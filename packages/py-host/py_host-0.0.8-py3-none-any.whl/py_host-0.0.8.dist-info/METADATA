Metadata-Version: 2.1
Name: py-host
Version: 0.0.8
Summary: modify format of msg to log center of ys.
Home-page: https://github.com/wikensmith/py-host.git
Author: wiken
Author-email: wiken01@qq.com
License: UNKNOWN
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 3
Description-Content-Type: text/markdown
Requires-Dist: APScheduler (==3.6.3)
Requires-Dist: certifi (==2019.9.11)
Requires-Dist: chardet (==3.0.4)
Requires-Dist: idna (==2.8)
Requires-Dist: pika (==1.1.0)
Requires-Dist: pymongo (==3.9.0)
Requires-Dist: pymssql (==2.1.4)
Requires-Dist: PyMySQL (==0.9.3)
Requires-Dist: python-dateutil (==2.8.1)
Requires-Dist: python-redis-lock (==3.3.1)
Requires-Dist: pytz (==2019.3)
Requires-Dist: redis (==3.3.11)
Requires-Dist: redlock-py (==1.0.8)
Requires-Dist: requests (==2.22.0)
Requires-Dist: retrying (==1.3.3)
Requires-Dist: six (==1.13.0)
Requires-Dist: suds-py3 (==1.3.4.0)
Requires-Dist: tzlocal (==2.0.0)
Requires-Dist: urllib3 (==1.25.7)

####1、 变更记录
v0.0.8 


1. 增加consumer_tag 功能, 以便在rabit web 页面显示消费者
2. 增加发送日志至日志中心功能
```python
from ys_service import *


@ys_host.register("YS.机票.国内.退票.wiken.DEBUG", prefetch=1, consumer_tag="wiken")
def refund(context):
    print("bigin:", context.text)
    re = context.send_log_to_center(
        context=context,
        project="wikenTest",
        module="test1",
        user="7921",
        level="error",
        return_msg="log_center_test",
        field1="111111",
        field2="自愿",
        field3="国内",
    )

    print("result:", re)
    context.ack()    


with ys_host:
    ys_host.start()
```


