(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[43],{2254:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(5),l=a(8),i=a(117),s=a(16),u=a(17),o=a(0),c=a.n(o),d=a(2253),m=a(1007),p=a(12),f=a(36),g=a(37),v=a(80),h=a.n(v),b=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(r.a)(this,a),(l=t.call(this,e)).state=void 0,l.sliderRef=c.a.createRef(),l.setWidgetValueDebounced=void 0,l.componentDidMount=function(){l.getAllSliderRoles().forEach((function(e,t){e.addEventListener("click",l.handleClick),l.setAriaValueText(e,t)})),l.setWidgetValueImmediately({fromUi:!1})},l.componentDidUpdate=function(){l.getAllSliderRoles().forEach((function(e,t){l.setAriaValueText(e,t)}))},l.componentWillUnmount=function(){l.getAllSliderRoles().forEach((function(e){e.removeEventListener("click",l.handleClick)}))},l.setWidgetValueImmediately=function(e){var t=l.props.element.get("id");l.props.widgetMgr.setFloatArrayValue(t,l.state.value,e)},l.getAllSliderRoles=function(){if(!l.sliderRef.current)return[];var e=l.sliderRef.current.querySelectorAll('[role="slider"]');return Array.from(e)},l.setAriaValueText=function(e,t){if(l.props.element.get("options").size>0||l.isDateTimeType()){var a=Object(i.a)(l).value;t<a.length&&e.setAttribute("aria-valuetext",l.formatValue(a[t]))}},l.handleChange=function(e){var t=e.value;l.setState({value:t},(function(){return l.setWidgetValueDebounced({fromUi:!0})}))},l.handleFinalChange=function(e){var t=e.value;l.setState({value:t},(function(){return l.setWidgetValueImmediately({fromUi:!0})}))},l.handleClick=function(e){e.target.focus()},l.renderThumbValue=function(e){var t=f.j.ThumbValue.style({$disabled:l.props.disabled});return c.a.createElement("div",{style:t},l.formatValue(e.$value[e.$thumbIndex]))},l.renderTickBar=function(){var e=l.props.element.get("max"),t=l.props.element.get("min"),a=f.j.TickBarItem.style;return c.a.createElement("div",{className:"sliderTickBar",style:f.j.TickBar.style},c.a.createElement("div",{className:"tickBarMin",style:a},l.formatValue(t)),c.a.createElement("div",{className:"tickBarMax",style:a},l.formatValue(e)))},l.render=function(){var e={width:l.props.width},t=l.props.element.get("label"),a=l.props.element.get("min"),r=l.props.element.get("max"),i=l.props.element.get("step");return c.a.createElement("div",{ref:l.sliderRef,className:"Widget stSlider",style:e},c.a.createElement("label",null,t),c.a.createElement(d.a,{min:a,max:r,step:i,value:l.value,onChange:l.handleChange,onFinalChange:l.handleFinalChange,disabled:l.props.disabled,overrides:Object(n.a)(Object(n.a)({},f.j),{},{ThumbValue:l.renderThumbValue,TickBar:l.renderTickBar})}))},l.setWidgetValueDebounced=Object(g.a)(200,l.setWidgetValueImmediately.bind(Object(i.a)(l))),l.state={value:l.props.element.get("default").toJS()},l}return Object(l.a)(a,[{key:"isDateTimeType",value:function(){var e=this.props.element.get("dataType");return e===p.k.DataType.DATETIME||e===p.k.DataType.DATE||e===p.k.DataType.TIME}},{key:"formatValue",value:function(e){var t=this.props.element.get("format"),a=this.props.element.get("options");return this.isDateTimeType()?h()(e/1e3).format(t):a.size>0?Object(m.sprintf)(t,a.get(e)):Object(m.sprintf)(t,e)}},{key:"value",get:function(){var e=this.props.element.get("min"),t=this.props.element.get("max"),a=this.state.value,n=a[0],r=a.length>1?a[1]:a[0];return n>r&&(n=r),n<e&&(n=e),n>t&&(n=t),r<e&&(r=e),r>t&&(r=t),a.length>1?[n,r]:[n]}}]),a}(c.a.PureComponent);a.d(t,"default",(function(){return b}))}}]);
//# sourceMappingURL=43.3dd93662.chunk.js.map