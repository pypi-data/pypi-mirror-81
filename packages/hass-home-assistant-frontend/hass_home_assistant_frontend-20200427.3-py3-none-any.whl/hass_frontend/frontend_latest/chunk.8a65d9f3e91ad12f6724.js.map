{"version":3,"sources":["webpack:///./src/components/ha-card.ts","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/mixins/events-mixin.js","webpack:///./src/common/datetime/check_options_support.ts","webpack:///./src/common/datetime/format_date_time.ts","webpack:///./src/panels/mailbox/ha-panel-mailbox.js"],"names":["customElement","_LitElement","[object Object]","args","super","_initialize","this","property","css","html","header","LitElement","_polymer_polymer_lib_utils_mixin__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","dedupingMixin","superClass","properties","hass","Object","localize","type","Function","computed","__computeLocalize","d","__webpack_exports__","EventsMixin","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_1__","fire","detail","options","fireEvent","node","toLocaleDateStringSupportsOptions","toLocaleTimeStringSupportsOptions","toLocaleStringSupportsOptions","Date","toLocaleDateString","e","name","checkToLocaleDateStringSupportsOptions","toLocaleTimeString","checkToLocaleTimeStringSupportsOptions","toLocaleString","checkToLocaleStringSupportsOptions","formatDateTime","formatDateTimeWithSeconds","fecha__WEBPACK_IMPORTED_MODULE_0__","_check_options_support__WEBPACK_IMPORTED_MODULE_1__","dateObj","locales","year","month","day","hour","minute","fecha","format","masks","longDate","shortTime","second","mediumTime","r","_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_9__","_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_10__","_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_11__","_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_14__","_mixins_localize_mixin__WEBPACK_IMPORTED_MODULE_15__","registeredDialog","customElements","define","LocalizeMixin","PolymerElement","template","narrow","Boolean","platforms","Array","_messages","_currentPlatform","Number","value","connectedCallback","dialogShowEvent","dialogTag","dialogImport","Promise","all","then","bind","hassChanged","connection","subscribeEvents","unsub","_unsubEvents","computePlatforms","disconnectedCallback","getMessages","items","openMP3Dialog","event","message","model","item","platform","callApi","values","platformItems","arrayLength","length","i","datetime","info","origtime","language","push","timestamp","caller","callerid","text","sha","duration","sort","a","b","handlePlatformSelected","ev","newPlatform","selected","areTabsHidden","getPlatformName","entity","states","toLowerCase","attributes","friendly_name"],"mappings":"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","file":"chunk.8a65d9f3e91ad12f6724.js","sourcesContent":["import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\n@customElement(\"ha-card\")\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html` <div class=\"card-header\">${this.header}</div> `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-card\": HaCard;\n  }\n}\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* @polymerMixin */\nexport const EventsMixin = dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      /**\n   * Dispatches a custom event with an optional detail value.\n   *\n   * @param {string} type Name of event type.\n   * @param {*=} detail Detail value containing event-specific\n   *   payload.\n   * @param {{ bubbles: (boolean|undefined),\n               cancelable: (boolean|undefined),\n                composed: (boolean|undefined) }=}\n    *  options Object specifying options.  These may include:\n    *  `bubbles` (boolean, defaults to `true`),\n    *  `cancelable` (boolean, defaults to false), and\n    *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n    * @return {Event} The new event that was fired.\n    */\n      fire(type, detail, options) {\n        options = options || {};\n        return fireEvent(options.node || this, type, detail, options);\n      }\n    }\n);\n","// Check for support of native locale string options\nfunction checkToLocaleDateStringSupportsOptions() {\n  try {\n    new Date().toLocaleDateString(\"i\");\n  } catch (e) {\n    return e.name === \"RangeError\";\n  }\n  return false;\n}\n\nfunction checkToLocaleTimeStringSupportsOptions() {\n  try {\n    new Date().toLocaleTimeString(\"i\");\n  } catch (e) {\n    return e.name === \"RangeError\";\n  }\n  return false;\n}\n\nfunction checkToLocaleStringSupportsOptions() {\n  try {\n    new Date().toLocaleString(\"i\");\n  } catch (e) {\n    return e.name === \"RangeError\";\n  }\n  return false;\n}\n\nexport const toLocaleDateStringSupportsOptions = checkToLocaleDateStringSupportsOptions();\nexport const toLocaleTimeStringSupportsOptions = checkToLocaleTimeStringSupportsOptions();\nexport const toLocaleStringSupportsOptions = checkToLocaleStringSupportsOptions();\n","import fecha from \"fecha\";\nimport { toLocaleStringSupportsOptions } from \"./check_options_support\";\n\nexport const formatDateTime = toLocaleStringSupportsOptions\n  ? (dateObj: Date, locales: string) =>\n      dateObj.toLocaleString(locales, {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"2-digit\",\n      })\n  : (dateObj: Date) =>\n      fecha.format(\n        dateObj,\n        `${fecha.masks.longDate}, ${fecha.masks.shortTime}`\n      );\n\nexport const formatDateTimeWithSeconds = toLocaleStringSupportsOptions\n  ? (dateObj: Date, locales: string) =>\n      dateObj.toLocaleString(locales, {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n      })\n  : (dateObj: Date) =>\n      fecha.format(\n        dateObj,\n        `${fecha.masks.longDate}, ${fecha.masks.mediumTime}`\n      );\n","import \"@material/mwc-button\";\nimport \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-input/paper-textarea\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-tabs/paper-tab\";\nimport \"@polymer/paper-tabs/paper-tabs\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { formatDateTime } from \"../../common/datetime/format_date_time\";\nimport \"../../components/ha-card\";\nimport \"../../components/ha-menu-button\";\nimport { EventsMixin } from \"../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../mixins/localize-mixin\";\nimport \"../../resources/ha-style\";\n\nlet registeredDialog = false;\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaPanelMailbox extends EventsMixin(LocalizeMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style include=\"ha-style\">\n        :host {\n          -ms-user-select: initial;\n          -webkit-user-select: initial;\n          -moz-user-select: initial;\n        }\n\n        .content {\n          padding: 16px;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n\n        ha-card {\n          overflow: hidden;\n        }\n\n        paper-item {\n          cursor: pointer;\n        }\n\n        .empty {\n          text-align: center;\n          color: var(--secondary-text-color);\n        }\n\n        .header {\n          @apply --paper-font-title;\n        }\n\n        .row {\n          display: flex;\n          justify-content: space-between;\n        }\n\n        @media all and (max-width: 450px) {\n          .content {\n            width: auto;\n            padding: 0;\n          }\n        }\n\n        .tip {\n          color: var(--secondary-text-color);\n          font-size: 14px;\n        }\n        .date {\n          color: var(--primary-text-color);\n        }\n      </style>\n\n      <app-header-layout has-scrolling-region>\n        <app-header slot=\"header\" fixed>\n          <app-toolbar>\n            <ha-menu-button\n              hass=\"[[hass]]\"\n              narrow=\"[[narrow]]\"\n            ></ha-menu-button>\n            <div main-title>[[localize('panel.mailbox')]]</div>\n          </app-toolbar>\n          <div sticky hidden$=\"[[areTabsHidden(platforms)]]\">\n            <paper-tabs\n              scrollable\n              selected=\"[[_currentPlatform]]\"\n              on-iron-activate=\"handlePlatformSelected\"\n            >\n              <template is=\"dom-repeat\" items=\"[[platforms]]\">\n                <paper-tab data-entity=\"[[item]]\">\n                  [[getPlatformName(item)]]\n                </paper-tab>\n              </template>\n            </paper-tabs>\n          </div>\n        </app-header>\n        <div class=\"content\">\n          <ha-card>\n            <template is=\"dom-if\" if=\"[[!_messages.length]]\">\n              <div class=\"card-content empty\">\n                [[localize('ui.panel.mailbox.empty')]]\n              </div>\n            </template>\n            <template is=\"dom-repeat\" items=\"[[_messages]]\">\n              <paper-item on-click=\"openMP3Dialog\">\n                <paper-item-body style=\"width:100%\" two-line>\n                  <div class=\"row\">\n                    <div>[[item.caller]]</div>\n                    <div class=\"tip\">\n                      [[localize('ui.duration.second', 'count', item.duration)]]\n                    </div>\n                  </div>\n                  <div secondary>\n                    <span class=\"date\">[[item.timestamp]]</span> -\n                    [[item.message]]\n                  </div>\n                </paper-item-body>\n              </paper-item>\n            </template>\n          </ha-card>\n        </div>\n      </app-header-layout>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      narrow: Boolean,\n\n      platforms: {\n        type: Array,\n      },\n\n      _messages: {\n        type: Array,\n      },\n\n      _currentPlatform: {\n        type: Number,\n        value: 0,\n      },\n    };\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (!registeredDialog) {\n      registeredDialog = true;\n      this.fire(\"register-dialog\", {\n        dialogShowEvent: \"show-audio-message-dialog\",\n        dialogTag: \"ha-dialog-show-audio-message\",\n        dialogImport: () =>\n          import(\n            /* webpackChunkName: \"ha-dialog-show-audio-message\" */ \"./ha-dialog-show-audio-message\"\n          ),\n      });\n    }\n    this.hassChanged = this.hassChanged.bind(this);\n    this.hass.connection\n      .subscribeEvents(this.hassChanged, \"mailbox_updated\")\n      .then(\n        function (unsub) {\n          this._unsubEvents = unsub;\n        }.bind(this)\n      );\n    this.computePlatforms().then(\n      function (platforms) {\n        this.platforms = platforms;\n        this.hassChanged();\n      }.bind(this)\n    );\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEvents) this._unsubEvents();\n  }\n\n  hassChanged() {\n    if (!this._messages) {\n      this._messages = [];\n    }\n    this.getMessages().then(\n      function (items) {\n        this._messages = items;\n      }.bind(this)\n    );\n  }\n\n  openMP3Dialog(event) {\n    this.fire(\"show-audio-message-dialog\", {\n      hass: this.hass,\n      message: event.model.item,\n    });\n  }\n\n  getMessages() {\n    const platform = this.platforms[this._currentPlatform];\n    return this.hass\n      .callApi(\"GET\", `mailbox/messages/${platform.name}`)\n      .then((values) => {\n        const platformItems = [];\n        const arrayLength = values.length;\n        for (let i = 0; i < arrayLength; i++) {\n          const datetime = formatDateTime(\n            new Date(values[i].info.origtime * 1000),\n            this.hass.language\n          );\n          platformItems.push({\n            timestamp: datetime,\n            caller: values[i].info.callerid,\n            message: values[i].text,\n            sha: values[i].sha,\n            duration: values[i].info.duration,\n            platform: platform,\n          });\n        }\n        return platformItems.sort(function (a, b) {\n          return new Date(b.timestamp) - new Date(a.timestamp);\n        });\n      });\n  }\n\n  computePlatforms() {\n    return this.hass.callApi(\"GET\", \"mailbox/platforms\");\n  }\n\n  handlePlatformSelected(ev) {\n    const newPlatform = ev.detail.selected;\n    if (newPlatform !== this._currentPlatform) {\n      this._currentPlatform = newPlatform;\n      this.hassChanged();\n    }\n  }\n\n  areTabsHidden(platforms) {\n    return !platforms || platforms.length < 2;\n  }\n\n  getPlatformName(item) {\n    const entity = `mailbox.${item.name}`;\n    const stateObj = this.hass.states[entity.toLowerCase()];\n    return stateObj.attributes.friendly_name;\n  }\n}\n\ncustomElements.define(\"ha-panel-mailbox\", HaPanelMailbox);\n"],"sourceRoot":""}