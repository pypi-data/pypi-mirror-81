{"version":3,"sources":["webpack:///./node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js","webpack:///./src/util/cover-model.js","webpack:///./src/components/ha-cover-tilt-controls.js","webpack:///./src/components/ha-cover-controls.js","webpack:///./src/panels/lovelace/entity-rows/hui-cover-entity-row.ts"],"names":["template","html","_templateObject","setAttribute","document","head","appendChild","content","CoverEntity","hass","stateObj","_classCallCheck","this","_attr","attributes","_feat","supported_features","callService","position","tiltPosition","tilt_position","service","data","arguments","length","undefined","entity_id","current_position","state","current_tilt_position","supportsFeature","supportsCover","supportsOpen","supportsClose","supportsStop","supportsOpenTilt","supportsCloseTilt","supportsStopTilt","isTiltOnly","HaCoverTiltControls","PolymerElement","type","Object","entityObj","computed","UNAVAILABLE","assumedState","assumed_state","isFullyOpenTilt","isFullyClosedTilt","ev","stopPropagation","openCoverTilt","closeCoverTilt","stopCoverTilt","customElements","define","HaCoverControls","device_class","isFullyOpen","isOpening","isFullyClosed","isClosing","openCover","closeCover","stopCover","customElement","property","config","Error","_config","changedProps","hasConfigOrEntityChanged","states","entity","_templateObject3","_templateObject4","_templateObject5","_templateObject2","localize","css","_templateObject6","LitElement"],"mappings":"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","file":"chunk.dd64c2fe5908d903bfb6.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/*\nA set of layout classes that let you specify layout properties directly in\nmarkup. You must include this file in every element that needs to use them.\n\nSample use:\n\n    import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\n\n    const template = html`\n      <style is=\"custom-style\" include=\"iron-flex iron-flex-alignment\"></style>\n      <style>\n        .test { width: 100px; }\n      </style>\n      <div class=\"layout horizontal center-center\">\n        <div class=\"test\">horizontal layout center alignment</div>\n      </div>\n    `;\n    document.body.appendChild(template.content);\n\nThe following imports are available:\n - iron-flex\n - iron-flex-reverse\n - iron-flex-alignment\n - iron-flex-factors\n - iron-positioning\n*/\n\nconst template = html`\n/* Most common used flex styles*/\n<dom-module id=\"iron-flex\">\n  <template>\n    <style>\n      .layout.horizontal,\n      .layout.vertical {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.inline {\n        display: -ms-inline-flexbox;\n        display: -webkit-inline-flex;\n        display: inline-flex;\n      }\n\n      .layout.horizontal {\n        -ms-flex-direction: row;\n        -webkit-flex-direction: row;\n        flex-direction: row;\n      }\n\n      .layout.vertical {\n        -ms-flex-direction: column;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n      }\n\n      .layout.wrap {\n        -ms-flex-wrap: wrap;\n        -webkit-flex-wrap: wrap;\n        flex-wrap: wrap;\n      }\n\n      .layout.no-wrap {\n        -ms-flex-wrap: nowrap;\n        -webkit-flex-wrap: nowrap;\n        flex-wrap: nowrap;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .flex {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-auto {\n        -ms-flex: 1 1 auto;\n        -webkit-flex: 1 1 auto;\n        flex: 1 1 auto;\n      }\n\n      .flex-none {\n        -ms-flex: none;\n        -webkit-flex: none;\n        flex: none;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Basic flexbox reverse styles */\n<dom-module id=\"iron-flex-reverse\">\n  <template>\n    <style>\n      .layout.horizontal-reverse,\n      .layout.vertical-reverse {\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n      }\n\n      .layout.horizontal-reverse {\n        -ms-flex-direction: row-reverse;\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n      }\n\n      .layout.vertical-reverse {\n        -ms-flex-direction: column-reverse;\n        -webkit-flex-direction: column-reverse;\n        flex-direction: column-reverse;\n      }\n\n      .layout.wrap-reverse {\n        -ms-flex-wrap: wrap-reverse;\n        -webkit-flex-wrap: wrap-reverse;\n        flex-wrap: wrap-reverse;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Flexbox alignment */\n<dom-module id=\"iron-flex-alignment\">\n  <template>\n    <style>\n      /**\n       * Alignment in cross axis.\n       */\n      .layout.start {\n        -ms-flex-align: start;\n        -webkit-align-items: flex-start;\n        align-items: flex-start;\n      }\n\n      .layout.center,\n      .layout.center-center {\n        -ms-flex-align: center;\n        -webkit-align-items: center;\n        align-items: center;\n      }\n\n      .layout.end {\n        -ms-flex-align: end;\n        -webkit-align-items: flex-end;\n        align-items: flex-end;\n      }\n\n      .layout.baseline {\n        -ms-flex-align: baseline;\n        -webkit-align-items: baseline;\n        align-items: baseline;\n      }\n\n      /**\n       * Alignment in main axis.\n       */\n      .layout.start-justified {\n        -ms-flex-pack: start;\n        -webkit-justify-content: flex-start;\n        justify-content: flex-start;\n      }\n\n      .layout.center-justified,\n      .layout.center-center {\n        -ms-flex-pack: center;\n        -webkit-justify-content: center;\n        justify-content: center;\n      }\n\n      .layout.end-justified {\n        -ms-flex-pack: end;\n        -webkit-justify-content: flex-end;\n        justify-content: flex-end;\n      }\n\n      .layout.around-justified {\n        -ms-flex-pack: distribute;\n        -webkit-justify-content: space-around;\n        justify-content: space-around;\n      }\n\n      .layout.justified {\n        -ms-flex-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n      }\n\n      /**\n       * Self alignment.\n       */\n      .self-start {\n        -ms-align-self: flex-start;\n        -webkit-align-self: flex-start;\n        align-self: flex-start;\n      }\n\n      .self-center {\n        -ms-align-self: center;\n        -webkit-align-self: center;\n        align-self: center;\n      }\n\n      .self-end {\n        -ms-align-self: flex-end;\n        -webkit-align-self: flex-end;\n        align-self: flex-end;\n      }\n\n      .self-stretch {\n        -ms-align-self: stretch;\n        -webkit-align-self: stretch;\n        align-self: stretch;\n      }\n\n      .self-baseline {\n        -ms-align-self: baseline;\n        -webkit-align-self: baseline;\n        align-self: baseline;\n      }\n\n      /**\n       * multi-line alignment in main axis.\n       */\n      .layout.start-aligned {\n        -ms-flex-line-pack: start;  /* IE10 */\n        -ms-align-content: flex-start;\n        -webkit-align-content: flex-start;\n        align-content: flex-start;\n      }\n\n      .layout.end-aligned {\n        -ms-flex-line-pack: end;  /* IE10 */\n        -ms-align-content: flex-end;\n        -webkit-align-content: flex-end;\n        align-content: flex-end;\n      }\n\n      .layout.center-aligned {\n        -ms-flex-line-pack: center;  /* IE10 */\n        -ms-align-content: center;\n        -webkit-align-content: center;\n        align-content: center;\n      }\n\n      .layout.between-aligned {\n        -ms-flex-line-pack: justify;  /* IE10 */\n        -ms-align-content: space-between;\n        -webkit-align-content: space-between;\n        align-content: space-between;\n      }\n\n      .layout.around-aligned {\n        -ms-flex-line-pack: distribute;  /* IE10 */\n        -ms-align-content: space-around;\n        -webkit-align-content: space-around;\n        align-content: space-around;\n      }\n    </style>\n  </template>\n</dom-module>\n/* Non-flexbox positioning helper styles */\n<dom-module id=\"iron-flex-factors\">\n  <template>\n    <style>\n      .flex,\n      .flex-1 {\n        -ms-flex: 1 1 0.000000001px;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-flex-basis: 0.000000001px;\n        flex-basis: 0.000000001px;\n      }\n\n      .flex-2 {\n        -ms-flex: 2;\n        -webkit-flex: 2;\n        flex: 2;\n      }\n\n      .flex-3 {\n        -ms-flex: 3;\n        -webkit-flex: 3;\n        flex: 3;\n      }\n\n      .flex-4 {\n        -ms-flex: 4;\n        -webkit-flex: 4;\n        flex: 4;\n      }\n\n      .flex-5 {\n        -ms-flex: 5;\n        -webkit-flex: 5;\n        flex: 5;\n      }\n\n      .flex-6 {\n        -ms-flex: 6;\n        -webkit-flex: 6;\n        flex: 6;\n      }\n\n      .flex-7 {\n        -ms-flex: 7;\n        -webkit-flex: 7;\n        flex: 7;\n      }\n\n      .flex-8 {\n        -ms-flex: 8;\n        -webkit-flex: 8;\n        flex: 8;\n      }\n\n      .flex-9 {\n        -ms-flex: 9;\n        -webkit-flex: 9;\n        flex: 9;\n      }\n\n      .flex-10 {\n        -ms-flex: 10;\n        -webkit-flex: 10;\n        flex: 10;\n      }\n\n      .flex-11 {\n        -ms-flex: 11;\n        -webkit-flex: 11;\n        flex: 11;\n      }\n\n      .flex-12 {\n        -ms-flex: 12;\n        -webkit-flex: 12;\n        flex: 12;\n      }\n    </style>\n  </template>\n</dom-module>\n<dom-module id=\"iron-positioning\">\n  <template>\n    <style>\n      .block {\n        display: block;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      .invisible {\n        visibility: hidden !important;\n      }\n\n      .relative {\n        position: relative;\n      }\n\n      .fit {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      body.fullbleed {\n        margin: 0;\n        height: 100vh;\n      }\n\n      .scroll {\n        -webkit-overflow-scrolling: touch;\n        overflow: auto;\n      }\n\n      /* fixed position */\n      .fixed-bottom,\n      .fixed-left,\n      .fixed-right,\n      .fixed-top {\n        position: fixed;\n      }\n\n      .fixed-top {\n        top: 0;\n        left: 0;\n        right: 0;\n      }\n\n      .fixed-right {\n        top: 0;\n        right: 0;\n        bottom: 0;\n      }\n\n      .fixed-bottom {\n        right: 0;\n        bottom: 0;\n        left: 0;\n      }\n\n      .fixed-left {\n        top: 0;\n        bottom: 0;\n        left: 0;\n      }\n    </style>\n  </template>\n</dom-module>\n`;\ntemplate.setAttribute('style', 'display: none;');\ndocument.head.appendChild(template.content);\n","import { supportsFeature } from \"../common/entity/supports-feature\";\n\n/* eslint-enable no-bitwise */\nexport default class CoverEntity {\n  constructor(hass, stateObj) {\n    this.hass = hass;\n    this.stateObj = stateObj;\n    this._attr = stateObj.attributes;\n    this._feat = this._attr.supported_features;\n  }\n\n  get isFullyOpen() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 100;\n    }\n    return this.stateObj.state === \"open\";\n  }\n\n  get isFullyClosed() {\n    if (this._attr.current_position !== undefined) {\n      return this._attr.current_position === 0;\n    }\n    return this.stateObj.state === \"closed\";\n  }\n\n  get isFullyOpenTilt() {\n    return this._attr.current_tilt_position === 100;\n  }\n\n  get isFullyClosedTilt() {\n    return this._attr.current_tilt_position === 0;\n  }\n\n  get isOpening() {\n    return this.stateObj.state === \"opening\";\n  }\n\n  get isClosing() {\n    return this.stateObj.state === \"closing\";\n  }\n\n  get supportsOpen() {\n    return supportsFeature(this.stateObj, 1);\n  }\n\n  get supportsClose() {\n    return supportsFeature(this.stateObj, 2);\n  }\n\n  get supportsSetPosition() {\n    return supportsFeature(this.stateObj, 4);\n  }\n\n  get supportsStop() {\n    return supportsFeature(this.stateObj, 8);\n  }\n\n  get supportsOpenTilt() {\n    return supportsFeature(this.stateObj, 16);\n  }\n\n  get supportsCloseTilt() {\n    return supportsFeature(this.stateObj, 32);\n  }\n\n  get supportsStopTilt() {\n    return supportsFeature(this.stateObj, 64);\n  }\n\n  get supportsSetTiltPosition() {\n    return supportsFeature(this.stateObj, 128);\n  }\n\n  get isTiltOnly() {\n    const supportsCover =\n      this.supportsOpen || this.supportsClose || this.supportsStop;\n    const supportsTilt =\n      this.supportsOpenTilt || this.supportsCloseTilt || this.supportsStopTilt;\n    return supportsTilt && !supportsCover;\n  }\n\n  openCover() {\n    this.callService(\"open_cover\");\n  }\n\n  closeCover() {\n    this.callService(\"close_cover\");\n  }\n\n  stopCover() {\n    this.callService(\"stop_cover\");\n  }\n\n  openCoverTilt() {\n    this.callService(\"open_cover_tilt\");\n  }\n\n  closeCoverTilt() {\n    this.callService(\"close_cover_tilt\");\n  }\n\n  stopCoverTilt() {\n    this.callService(\"stop_cover_tilt\");\n  }\n\n  setCoverPosition(position) {\n    this.callService(\"set_cover_position\", { position });\n  }\n\n  setCoverTiltPosition(tiltPosition) {\n    this.callService(\"set_cover_tilt_position\", {\n      tilt_position: tiltPosition,\n    });\n  }\n\n  // helper method\n\n  callService(service, data = {}) {\n    data.entity_id = this.stateObj.entity_id;\n    this.hass.callService(\"cover\", service, data);\n  }\n}\n\nexport const supportsOpen = (stateObj) => supportsFeature(stateObj, 1);\n\nexport const supportsClose = (stateObj) => supportsFeature(stateObj, 2);\n\nexport const supportsSetPosition = (stateObj) => supportsFeature(stateObj, 4);\n\nexport const supportsStop = (stateObj) => supportsFeature(stateObj, 8);\n\nexport const supportsOpenTilt = (stateObj) => supportsFeature(stateObj, 16);\n\nexport const supportsCloseTilt = (stateObj) => supportsFeature(stateObj, 32);\n\nexport const supportsStopTilt = (stateObj) => supportsFeature(stateObj, 64);\n\nexport const supportsSetTiltPosition = (stateObj) =>\n  supportsFeature(stateObj, 128);\n\nexport function isTiltOnly(stateObj) {\n  const supportsCover =\n    supportsOpen(stateObj) || supportsClose(stateObj) || supportsStop(stateObj);\n  const supportsTilt =\n    supportsOpenTilt(stateObj) ||\n    supportsCloseTilt(stateObj) ||\n    supportsStopTilt(stateObj);\n  return supportsTilt && !supportsCover;\n}\n","import \"@polymer/iron-flex-layout/iron-flex-layout-classes\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { UNAVAILABLE } from \"../data/entity\";\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverTiltControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"iron-flex\"></style>\n      <style>\n        :host {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n      <paper-icon-button\n        aria-label=\"Open cover tilt\"\n        icon=\"hass:arrow-top-right\"\n        on-click=\"onOpenTiltTap\"\n        title=\"Open tilt\"\n        invisible$=\"[[!entityObj.supportsOpenTilt]]\"\n        disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n      <paper-icon-button\n        aria-label=\"Stop cover from moving\"\n        icon=\"hass:stop\"\n        on-click=\"onStopTiltTap\"\n        invisible$=\"[[!entityObj.supportsStopTilt]]\"\n        disabled=\"[[computStopDisabled(stateObj)]]\"\n        title=\"Stop tilt\"\n      ></paper-icon-button>\n      <paper-icon-button\n        aria-label=\"Close cover tilt\"\n        icon=\"hass:arrow-bottom-left\"\n        on-click=\"onCloseTiltTap\"\n        title=\"Close tilt\"\n        invisible$=\"[[!entityObj.supportsCloseTilt]]\"\n        disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n      ></paper-icon-button>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeStopDisabled(stateObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    return false;\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyOpenTilt && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return entityObj.isFullyClosedTilt && !assumedState;\n  }\n\n  onOpenTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCoverTilt();\n  }\n\n  onCloseTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCoverTilt();\n  }\n\n  onStopTiltTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCoverTilt();\n  }\n}\n\ncustomElements.define(\"ha-cover-tilt-controls\", HaCoverTiltControls);\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { UNAVAILABLE } from \"../data/entity\";\nimport CoverEntity from \"../util/cover-model\";\n\nclass HaCoverControls extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .state {\n          white-space: nowrap;\n        }\n        [invisible] {\n          visibility: hidden !important;\n        }\n      </style>\n\n      <div class=\"state\">\n        <paper-icon-button\n          aria-label=\"Open cover\"\n          icon=\"[[computeOpenIcon(stateObj)]]\"\n          on-click=\"onOpenTap\"\n          invisible$=\"[[!entityObj.supportsOpen]]\"\n          disabled=\"[[computeOpenDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          aria-label=\"Stop the cover from moving\"\n          icon=\"hass:stop\"\n          on-click=\"onStopTap\"\n          invisible$=\"[[!entityObj.supportsStop]]\"\n          disabled=\"[[computStopDisabled(stateObj)]]\"\n        ></paper-icon-button>\n        <paper-icon-button\n          aria-label=\"Close cover\"\n          icon=\"[[computeCloseIcon(stateObj)]]\"\n          on-click=\"onCloseTap\"\n          invisible$=\"[[!entityObj.supportsClose]]\"\n          disabled=\"[[computeClosedDisabled(stateObj, entityObj)]]\"\n        ></paper-icon-button>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n      stateObj: {\n        type: Object,\n      },\n      entityObj: {\n        type: Object,\n        computed: \"computeEntityObj(hass, stateObj)\",\n      },\n    };\n  }\n\n  computeEntityObj(hass, stateObj) {\n    return new CoverEntity(hass, stateObj);\n  }\n\n  computeOpenIcon(stateObj) {\n    switch (stateObj.attributes.device_class) {\n      case \"awning\":\n      case \"gate\":\n        return \"hass:arrow-expand-horizontal\";\n      default:\n        return \"hass:arrow-up\";\n    }\n  }\n\n  computeCloseIcon(stateObj) {\n    switch (stateObj.attributes.device_class) {\n      case \"awning\":\n      case \"gate\":\n        return \"hass:arrow-collapse-horizontal\";\n      default:\n        return \"hass:arrow-down\";\n    }\n  }\n\n  computeStopDisabled(stateObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    return false;\n  }\n\n  computeOpenDisabled(stateObj, entityObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyOpen || entityObj.isOpening) && !assumedState;\n  }\n\n  computeClosedDisabled(stateObj, entityObj) {\n    if (stateObj.state === UNAVAILABLE) {\n      return true;\n    }\n    var assumedState = stateObj.attributes.assumed_state === true;\n    return (entityObj.isFullyClosed || entityObj.isClosing) && !assumedState;\n  }\n\n  onOpenTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.openCover();\n  }\n\n  onCloseTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.closeCover();\n  }\n\n  onStopTap(ev) {\n    ev.stopPropagation();\n    this.entityObj.stopCover();\n  }\n}\n\ncustomElements.define(\"ha-cover-controls\", HaCoverControls);\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../../../components/ha-cover-controls\";\nimport \"../../../components/ha-cover-tilt-controls\";\nimport { HomeAssistant } from \"../../../types\";\nimport { isTiltOnly } from \"../../../util/cover-model\";\nimport { hasConfigOrEntityChanged } from \"../common/has-changed\";\nimport \"../components/hui-generic-entity-row\";\nimport \"../components/hui-warning\";\nimport { EntityConfig, LovelaceRow } from \"./types\";\n\n@customElement(\"hui-cover-entity-row\")\nclass HuiCoverEntityRow extends LitElement implements LovelaceRow {\n  @property() public hass?: HomeAssistant;\n\n  @property() private _config?: EntityConfig;\n\n  public setConfig(config: EntityConfig): void {\n    if (!config) {\n      throw new Error(\"Configuration error\");\n    }\n    this._config = config;\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    return hasConfigOrEntityChanged(this, changedProps);\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config || !this.hass) {\n      return html``;\n    }\n\n    const stateObj = this.hass.states[this._config.entity];\n\n    if (!stateObj) {\n      return html`\n        <hui-warning\n          >${this.hass.localize(\n            \"ui.panel.lovelace.warning.entity_not_found\",\n            \"entity\",\n            this._config.entity\n          )}</hui-warning\n        >\n      `;\n    }\n\n    return html`\n      <hui-generic-entity-row .hass=${this.hass} .config=${this._config}>\n        ${isTiltOnly(stateObj)\n          ? html`\n              <ha-cover-tilt-controls\n                .hass=${this.hass}\n                .stateObj=${stateObj}\n              ></ha-cover-tilt-controls>\n            `\n          : html`\n              <ha-cover-controls\n                .hass=${this.hass}\n                .stateObj=${stateObj}\n              ></ha-cover-controls>\n            `}\n      </hui-generic-entity-row>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-cover-controls,\n      ha-cover-tilt-controls {\n        margin-right: -0.57em;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-cover-entity-row\": HuiCoverEntityRow;\n  }\n}\n"],"sourceRoot":""}