{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu.js","webpack:///./node_modules/@polymer/neon-animation/neon-animatable-behavior.js","webpack:///./node_modules/@polymer/neon-animation/neon-animation-runner-behavior.js","webpack:///./node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu-icons.js","webpack:///./node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu-shared-styles.js","webpack:///./src/components/ha-paper-dropdown-menu.ts","webpack:///./src/data/input_select.ts","webpack:///./src/common/dom/stop_propagation.ts","webpack:///./src/panels/lovelace/entity-rows/hui-input-select-entity-row.ts"],"names":["Polymer","_template","html","_templateObject","is","behaviors","IronButtonState","IronControlState","IronFormElementBehavior","IronValidatableBehavior","properties","selectedItemLabel","type","String","notify","readOnly","selectedItem","Object","value","label","placeholder","errorMessage","opened","Boolean","observer","allowOutsideScroll","noLabelFloat","reflectToAttribute","alwaysFloatLabel","noAnimations","horizontalAlign","verticalAlign","verticalOffset","Number","dynamicAlign","restoreFocusOnClose","listeners","tap","keyBindings","up down","esc","hostAttributes","role","aria-autocomplete","aria-haspopup","observers","attached","contentElement","this","_setSelectedItem","nodes","dom","$","content","getDistributedNodes","i","l","length","nodeType","Node","ELEMENT_NODE","open","menuButton","close","_onIronSelect","event","detail","item","_onIronDeselect","_onTap","gestures","_selectedItemChanged","getAttribute","textContent","trim","_setSelectedItemLabel","_computeMenuVerticalOffset","opt_verticalOffset","_getValidity","_value","disabled","required","_openedChanged","openState","e","setAttribute","NeonAnimatableBehavior","animationConfig","entryAnimation","exitAnimation","_entryAnimationChanged","name","node","_exitAnimationChanged","_copyProperties","config1","config2","property","_cloneConfig","config","clone","isClone","_getAnimationConfigRecursive","map","allConfigs","thisConfig","_warn","_logf","Array","isArray","index","animatable","id","cachedConfig","push","getAnimationConfig","key","__webpack_require__","d","__webpack_exports__","NeonAnimationRunnerBehavior","_configureAnimations","configs","results","resultsToPlay","neonAnimation","document","createElement","isNeonAnimation","result","configure","console","warn","cancel","timeline","play","animation","_shouldComplete","activeEntries","finished","playState","_complete","complete","playAnimation","cookie","_active","onfinish","fire","bubbles","bind","cancelAnimation","k","entries","j","$_documentContainer","innerHTML","head","appendChild","paperDropdownClass","customElements","get","HaPaperDropdownClass","_paperDropdownClass","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_this","_get","_getPrototypeOf","prototype","call","setTimeout","window","getComputedStyle","direction","style","textAlign","define","setInputSelectOption","fetchInputSelect","createInputSelect","updateInputSelect","deleteInputSelect","hass","entity","option","callService","entity_id","callWS","values","assign","updates","input_select_id","stopPropagation","ev","customElement","HuiInputSelectEntityRow","Error","_config","changedProps","hasConfigOrEntityChanged","stateObj","states","_templateObject2","localize","pointer","tap_action","action","DOMAINS_HIDE_MORE_INFO","includes","computeDomain","_templateObject3","state_color","icon","image","classMap","_handleAction","actionHandler","hasHold","hasAction","hold_action","hasDoubleClick","double_tap_action","ifDefined","undefined","computeStateName","state","UNAVAILABLE_STATES","_selectedChanged","attributes","options","_templateObject4","shadowRoot","querySelector","selected","indexOf","handleAction","css","_templateObject5","target","innerText","forwardHaptic","LitElement"],"mappings":";m7DAsFAA,YAAQ,CACNC,UAAWC,YAAFC,KAmBTC,GAAI,sBAEJC,UAAW,CACTC,IACAC,IACAC,IACAC,KAGFC,WAAY,CAMVC,kBAAmB,CAACC,KAAMC,OAAQC,QAAQ,EAAMC,UAAU,GAS1DC,aAAc,CAACJ,KAAMK,OAAQH,QAAQ,EAAMC,UAAU,GAOrDG,MAAO,CACLN,KAAMC,OACNC,QAAQ,GAMVK,MAAO,CAACP,KAAMC,QAKdO,YAAa,CAACR,KAAMC,QAKpBQ,aAAc,CAACT,KAAMC,QAKrBS,OACI,CAACV,KAAMW,QAAST,QAAQ,EAAMI,OAAO,EAAOM,SAAU,kBAQ1DC,mBAAoB,CAACb,KAAMW,QAASL,OAAO,GAM3CQ,aAAc,CAACd,KAAMW,QAASL,OAAO,EAAOS,oBAAoB,GAMhEC,iBAAkB,CAAChB,KAAMW,QAASL,OAAO,GAMzCW,aAAc,CAACjB,KAAMW,QAASL,OAAO,GAMrCY,gBAAiB,CAAClB,KAAMC,OAAQK,MAAO,SAMvCa,cAAe,CAACnB,KAAMC,OAAQK,MAAO,OAMrCc,eAAgBC,OAQhBC,aAAc,CAACtB,KAAMW,SAKrBY,oBAAqB,CAACvB,KAAMW,QAASL,OAAO,IAG9CkB,UAAW,CAACC,IAAO,UAKnBC,YAAa,CAACC,UAAW,OAAQC,IAAO,SAExCC,eACI,CAACC,KAAM,WAAYC,oBAAqB,OAAQC,gBAAiB,QAErEC,UAAW,CAAC,sCAEZC,SAAU,WAKR,IAAIC,EAAiBC,KAAKD,eACtBA,GAAkBA,EAAe/B,cACnCgC,KAAKC,iBAAiBF,EAAe/B,eAOzC+B,qBAGE,IADA,IAAIG,EAAQC,YAAIH,KAAKI,EAAEC,SAASC,sBACvBC,EAAI,EAAGC,EAAIN,EAAMO,OAAQF,EAAIC,EAAGD,IACvC,GAAIL,EAAMK,GAAGG,WAAaC,KAAKC,aAC7B,OAAOV,EAAMK,IAQnBM,KAAM,WACJb,KAAKI,EAAEU,WAAWD,QAMpBE,MAAO,WACLf,KAAKI,EAAEU,WAAWC,SAQpBC,cAAe,SAASC,GACtBjB,KAAKC,iBAAiBgB,EAAMC,OAAOC,OAQrCC,gBAAiB,SAASH,GACxBjB,KAAKC,iBAAiB,OAQxBoB,OAAQ,SAASJ,GACXK,IAA4BL,KAAWjB,MACzCA,KAAKa,QAUTU,qBAAsB,SAASvD,GAC7B,IAAIE,EAAQ,GAIVA,EAHGF,EAGKA,EAAaG,OAASH,EAAawD,aAAa,UACpDxD,EAAayD,YAAYC,OAHrB,GAMV1B,KAAK9B,MAAQA,EACb8B,KAAK2B,sBAAsBzD,IAW7B0D,2BAA4B,SAASlD,EAAcmD,GAEjD,OAAIA,IAQGnD,GAAgB,EAAI,IAU7BoD,aAAc,SAASC,GACrB,OAAO/B,KAAKgC,WAAahC,KAAKiC,UAAajC,KAAKiC,YAAcjC,KAAK9B,OAGrEgE,eAAgB,WACd,IAAIC,EAAYnC,KAAK1B,OAAS,OAAS,QACnC8D,EAAIpC,KAAKD,eACTqC,GACFA,EAAEC,aAAa,gBAAiBF,iDCjVzBG,EAAyB,CAEpC5E,WAAY,CAKV6E,gBAAiB,CAAC3E,KAAMK,QAOxBuE,eAAgB,CACdhE,SAAU,yBACVZ,KAAMC,QAQR4E,cAAe,CACbjE,SAAU,wBACVZ,KAAMC,SAKV6E,uBAAwB,WACtB1C,KAAKuC,gBAAkBvC,KAAKuC,iBAAmB,GAC/CvC,KAAKuC,gBAAL,MAAgC,CAAC,CAACI,KAAM3C,KAAKwC,eAAgBI,KAAM5C,QAGrE6C,sBAAuB,WACrB7C,KAAKuC,gBAAkBvC,KAAKuC,iBAAmB,GAC/CvC,KAAKuC,gBAAL,KAA+B,CAAC,CAACI,KAAM3C,KAAKyC,cAAeG,KAAM5C,QAGnE8C,gBAAiB,SAASC,EAASC,GAEjC,IAAK,IAAIC,KAAYD,EACnBD,EAAQE,GAAYD,EAAQC,IAIhCC,aAAc,SAASC,GACrB,IAAIC,EAAQ,CAACC,SAAS,GAEtB,OADArD,KAAK8C,gBAAgBM,EAAOD,GACrBC,GAGTE,6BAA8B,SAAS1F,EAAM2F,EAAKC,GAchD,IAAIC,EAbJ,GAAKzD,KAAKuC,gBAIV,GAAIvC,KAAKuC,gBAAgBrE,OACiB,mBAA/B8B,KAAKuC,gBAAgBrE,MAC9B8B,KAAK0D,MAAM1D,KAAK2D,MACZ,gBACA,8GAiBN,GAVEF,EADE7F,EACWoC,KAAKuC,gBAAgB3E,GAErBoC,KAAKuC,gBAGfqB,MAAMC,QAAQJ,KACjBA,EAAa,CAACA,IAIZA,EACF,IAAK,IAAIN,EAAQW,EAAQ,EAAGX,EAASM,EAAWK,GAAQA,IACtD,GAAIX,EAAOY,WACTZ,EAAOY,WAAWT,6BACdH,EAAOvF,MAAQA,EAAM2F,EAAKC,QAE9B,GAAIL,EAAOa,GAAI,CACb,IAAIC,EAAeV,EAAIJ,EAAOa,IAC1BC,GAEGA,EAAaZ,UAChBE,EAAIJ,EAAOa,IAAMhE,KAAKkD,aAAae,GACnCA,EAAeV,EAAIJ,EAAOa,KAE5BhE,KAAK8C,gBAAgBmB,EAAcd,IAGnCI,EAAIJ,EAAOa,IAAMb,OAGnBK,EAAWU,KAAKf,IAc1BgB,mBAAoB,SAASvG,GAC3B,IAAI2F,EAAM,GACNC,EAAa,GAGjB,IAAK,IAAIY,KAFTpE,KAAKsD,6BAA6B1F,EAAM2F,EAAKC,GAE7BD,EACdC,EAAWU,KAAKX,EAAIa,IAEtB,OAAOZ,IC5IXa,EAAAC,EAAAC,EAAA,sBAAAC,IAmBO,IAwIMA,EACT,CAAClC,EAzI0C,CAE7CmC,qBAAsB,SAASC,GAC7B,IAAIC,EAAU,GACVC,EAAgB,GAEpB,GAAIF,EAAQjE,OAAS,EACnB,IAAK,IAAI0C,EAAQW,EAAQ,EAAGX,EAASuB,EAAQZ,GAAQA,IAAS,CAC5D,IAAIe,EAAgBC,SAASC,cAAc5B,EAAOR,MAElD,GAAIkC,EAAcG,gBAAiB,CACjC,IAAIC,EAGCJ,EAAcK,YAKjBL,EAAcK,UAAY,SAAS/B,GACjC,OAAO,OAIX8B,EAASJ,EAAcK,UAAU/B,GACjCyB,EAAcV,KAAK,CACjBe,OAAQA,EACR9B,OAAQA,EACR0B,cAAeA,SAGjBM,QAAQC,KAAKpF,KAAK5C,GAAK,IAAK+F,EAAOR,KAAM,cAK/C,IAAK,IAAIpC,EAAI,EAAGA,EAAIqE,EAAcnE,OAAQF,IAAK,CAC7C,IAAI0E,EAASL,EAAcrE,GAAG0E,OAC1B9B,EAASyB,EAAcrE,GAAG4C,OAC1B0B,EAAgBD,EAAcrE,GAAGsE,cAErC,IAE8B,mBAAjBI,EAAOI,SAChBJ,EAASH,SAASQ,SAASC,KAAKN,IAElC,MAAO7C,GACP6C,EAAS,KACTE,QAAQC,KAAK,eAAgB,IAAKjC,EAAOR,KAAM,KAAMP,GAGnD6C,GACFN,EAAQT,KAAK,CACXW,cAAeA,EACf1B,OAAQA,EACRqC,UAAWP,IAKjB,OAAON,GAGTc,gBAAiB,SAASC,GAExB,IADA,IAAIC,GAAW,EACNpF,EAAI,EAAGA,EAAImF,EAAcjF,OAAQF,IACxC,GAA4C,YAAxCmF,EAAcnF,GAAGiF,UAAUI,UAAyB,CACtDD,GAAW,EACX,MAGJ,OAAOA,GAGTE,UAAW,SAASH,GAClB,IAAK,IAAInF,EAAI,EAAGA,EAAImF,EAAcjF,OAAQF,IACxCmF,EAAcnF,GAAGsE,cAAciB,SAASJ,EAAcnF,GAAG4C,QAE3D,IAAS5C,EAAI,EAAGA,EAAImF,EAAcjF,OAAQF,IACxCmF,EAAcnF,GAAGiF,UAAUH,UAS/BU,cAAe,SAASnI,EAAMoI,GAC5B,IAAItB,EAAU1E,KAAKmE,mBAAmBvG,GACtC,GAAK8G,EAAL,CAGA1E,KAAKiG,QAAUjG,KAAKiG,SAAW,GAC3BjG,KAAKiG,QAAQrI,KACfoC,KAAK6F,UAAU7F,KAAKiG,QAAQrI,WACrBoC,KAAKiG,QAAQrI,IAGtB,IAAI8H,EAAgB1F,KAAKyE,qBAAqBC,GAE9C,GAA4B,GAAxBgB,EAAcjF,OAAlB,CAKAT,KAAKiG,QAAQrI,GAAQ8H,EAErB,IAAK,IAAInF,EAAI,EAAGA,EAAImF,EAAcjF,OAAQF,IACxCmF,EAAcnF,GAAGiF,UAAUU,SAAW,WAChClG,KAAKyF,gBAAgBC,KACvB1F,KAAK6F,UAAUH,UACR1F,KAAKiG,QAAQrI,GACpBoC,KAAKmG,KAAK,wBAAyBH,EAAQ,CAACI,SAAS,MAEvDC,KAAKrG,WAbPA,KAAKmG,KAAK,wBAAyBH,EAAQ,CAACI,SAAS,MAoBzDE,gBAAiB,WACf,IAAK,IAAIC,KAAKvG,KAAKiG,QAAS,CAC1B,IAAIO,EAAUxG,KAAKiG,QAAQM,GAEb,IAAK,IAAIE,KAAKD,EAC1BA,EAAQC,GAAGjB,UAAUH,SAIzBrF,KAAKiG,QAAU,wCCtJnB5B,EAAA,QAWMqC,EAAsB5B,SAASC,cAAc,YACnD2B,EAAoBrE,aAAa,QAAS,kBAE1CqE,EAAoBC,UAApB,yKAOA7B,SAAS8B,KAAKC,YAAYH,EAAoBrG,2CCrB9CgE,EAAA,QAWMqC,EAAsB5B,SAASC,cAAc,YACnD2B,EAAoBrE,aAAa,QAAS,kBAE1CqE,EAAoBC,UAApB,88CAoEA7B,SAAS8B,KAAKC,YAAYH,EAAoBrG,iiDC9E9C,IAAMyG,EAAqBC,eAAeC,IACxC,uBAIWC,EAAb,SAAAC,sOAAAC,CAAAF,EAA0CH,GAA1C,UAAAM,EAAAC,EAAAJ,GAAA,SAAAA,IAAA,mGAAAK,CAAAtH,KAAAiH,GAAAG,EAAAG,MAAAvH,KAAAwH,WAAA,SAAAP,KAAA,EAAA7C,IAAA,QAAAlG,MAAA,WACiB,IAAAuJ,EAAAzH,KACb0H,EAAAC,EAAAV,EAAAW,WAAA,QAAA5H,MAAA6H,KAAA7H,MAEA8H,WAAW,WACuC,QAA5CC,OAAOC,iBAAiBP,GAAMQ,YAChCR,EAAKS,MAAMC,UAAY,UAExB,qCARPlB,EAAA,GAkBAF,eAAeqB,OAAO,yBAA0BnB,qCCVhD5C,EAAAC,EAAAC,EAAA,sBAAA8D,IAAAhE,EAAAC,EAAAC,EAAA,sBAAA+D,IAAAjE,EAAAC,EAAAC,EAAA,sBAAAgE,IAAAlE,EAAAC,EAAAC,EAAA,sBAAAiE,IAAAnE,EAAAC,EAAAC,EAAA,sBAAAkE,IAAO,IAAMJ,EAAuB,SAClCK,EACAC,EACAC,GAHkC,OAKlCF,EAAKG,YAAY,eAAgB,gBAAiB,CAChDD,SACAE,UAAWH,KAGFL,EAAmB,SAACI,GAAD,OAC9BA,EAAKK,OAAsB,CAAEnL,KAAM,uBAExB2K,EAAoB,SAC/BG,EACAM,GAF+B,OAI/BN,EAAKK,OAAL9K,OAAAgL,OAAA,CACErL,KAAM,uBACHoL,KAGMR,EAAoB,SAC/BE,EACA1E,EACAkF,GAH+B,OAK/BR,EAAKK,OAAL9K,OAAAgL,OAAA,CACErL,KAAM,sBACNuL,gBAAiBnF,GACdkF,KAGMT,EAAoB,SAACC,EAAqB1E,GAAtB,OAC/B0E,EAAKK,OAAO,CACVnL,KAAM,sBACNuL,gBAAiBnF,uCCrDrBK,EAAAC,EAAAC,EAAA,sBAAA6E,IAAO,IAAMA,EAAkB,SAACC,GAAD,OAAQA,EAAGD,w6UCiCzCE,YAAc,kDACTC,2iBACHtG,kEAEAA,gFAED,SAAiBE,GACf,IAAKA,IAAWA,EAAOwF,OACrB,MAAM,IAAIa,MAAM,4CAGlBxJ,KAAKyJ,QAAUtG,4CAGjB,SAAuBuG,GACrB,OAAOC,YAAyB3J,KAAM0J,uCAGxC,WACE,IAAK1J,KAAK0I,OAAS1I,KAAKyJ,QACtB,OAAOvM,YAAPC,KAGF,IAAMyM,EAAW5J,KAAK0I,KAAKmB,OAAO7J,KAAKyJ,QAAQd,QAI/C,IAAKiB,EACH,OAAO1M,YAAP4M,IAEO9J,KAAK0I,KAAKqB,SACX,6CACA,SACA/J,KAAKyJ,QAAQd,SAMrB,IAAMqB,EACHhK,KAAKyJ,QAAQQ,YAAiD,SAAnCjK,KAAKyJ,QAAQQ,WAAWC,QACnDlK,KAAKyJ,QAAQd,SACXwB,IAAuBC,SAASC,YAAcrK,KAAKyJ,QAAQd,SAEhE,OAAOzL,YAAPoN,IAEgBV,EACE5J,KAAKyJ,QAAQc,YACXvK,KAAKyJ,QAAQe,KACZxK,KAAKyJ,QAAQgB,MACtBC,YAAS,CACfV,YAEQhK,KAAK2K,cACEC,YAAc,CAC7BC,QAASC,YAAU9K,KAAKyJ,QAASsB,aACjCC,eAAgBF,YAAU9K,KAAKyJ,QAASwB,qBAE/BC,YAAUlB,EAAU,SAAMmB,GAG5BnL,KAAKyJ,QAAQ9G,MAAQyI,YAAiBxB,GACtCA,EAASyB,MACNC,IAAmBlB,SAASR,EAASyB,OAClCrL,KAAKuL,iBACXnC,IAGLQ,EAAS4B,WAAWC,QAClB7B,EAAS4B,WAAWC,QAAQlI,IAC1B,SAACqF,GAAD,OAAY1L,YAAZwO,IAAgC9C,KAElC,yCAMZ,SAAkBc,GAGhB,GAFAhC,EAAAC,EA9EE4B,EA8EF3B,WAAA,UAAA5H,MAAA6H,KAAA7H,KAAc0J,GAET1J,KAAK0I,MAAS1I,KAAKyJ,QAAxB,CAIA,IAAMG,EAAW5J,KAAK0I,KAAKmB,OAAO7J,KAAKyJ,QAAQd,QAI1CiB,GAKDA,EAAS4B,WAAWC,UACtBzL,KAAK2L,WAAYC,cACf,iBACCC,SAAWjC,EAAS4B,WAAWC,QAAQK,QAAQlC,EAASyB,oDAI/D,SAAsBhC,GACpB0C,YAAa/L,KAAMA,KAAK0I,KAAO1I,KAAKyJ,QAAUJ,EAAGnI,OAAOgJ,mDAG1D,WACE,OAAO8B,YAAPC,mDAwBF,SAAyB5C,GACvB,IAAMO,EAAW5J,KAAK0I,KAAMmB,OAAO7J,KAAKyJ,QAASd,QAC3CC,EAASS,EAAG6C,OAAOlO,aAAamO,UAAUzK,OAC5CkH,IAAWgB,EAASyB,QAIxBe,YAAc,SAEd/D,YAAqBrI,KAAK0I,KAAOkB,EAASd,UAAWF,SA1InByD","file":"chunk.a48b1eb809950f238b53.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-a11y-keys-behavior/iron-a11y-keys-behavior.js';\nimport '@polymer/iron-icon/iron-icon.js';\nimport '@polymer/paper-input/paper-input.js';\nimport '@polymer/paper-menu-button/paper-menu-button.js';\nimport '@polymer/paper-ripple/paper-ripple.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport './paper-dropdown-menu-icons.js';\nimport './paper-dropdown-menu-shared-styles.js';\n\nimport {IronButtonState} from '@polymer/iron-behaviors/iron-button-state.js';\nimport {IronControlState} from '@polymer/iron-behaviors/iron-control-state.js';\nimport {IronFormElementBehavior} from '@polymer/iron-form-element-behavior/iron-form-element-behavior.js';\nimport {IronValidatableBehavior} from '@polymer/iron-validatable-behavior/iron-validatable-behavior.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport * as gestures from '@polymer/polymer/lib/utils/gestures.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design: [Dropdown\nmenus](https://www.google.com/design/spec/components/buttons.html#buttons-dropdown-buttons)\n\n`paper-dropdown-menu` is similar to a native browser select element.\n`paper-dropdown-menu` works with selectable content. The currently selected\nitem is displayed in the control. If no item is selected, the `label` is\ndisplayed instead.\n\nExample:\n\n    <paper-dropdown-menu label=\"Your favourite pastry\">\n      <paper-listbox slot=\"dropdown-content\">\n        <paper-item>Croissant</paper-item>\n        <paper-item>Donut</paper-item>\n        <paper-item>Financier</paper-item>\n        <paper-item>Madeleine</paper-item>\n      </paper-listbox>\n    </paper-dropdown-menu>\n\nThis example renders a dropdown menu with 4 options.\n\nThe child element with the slot `dropdown-content` is used as the dropdown\nmenu. This can be a [`paper-listbox`](paper-listbox), or any other or\nelement that acts like an [`iron-selector`](iron-selector).\n\nSpecifically, the menu child must fire an\n[`iron-select`](iron-selector#event-iron-select) event when one of its\nchildren is selected, and an\n[`iron-deselect`](iron-selector#event-iron-deselect) event when a child is\ndeselected. The selected or deselected item must be passed as the event's\n`detail.item` property.\n\nApplications can listen for the `iron-select` and `iron-deselect` events\nto react when options are selected and deselected.\n\n### Styling\n\nThe following custom properties and mixins are also available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-dropdown-menu` | A mixin that is applied to the element host | `{}`\n`--paper-dropdown-menu-disabled` | A mixin that is applied to the element host when disabled | `{}`\n`--paper-dropdown-menu-ripple` | A mixin that is applied to the internal ripple | `{}`\n`--paper-dropdown-menu-button` | A mixin that is applied to the internal menu button | `{}`\n`--paper-dropdown-menu-input` | A mixin that is applied to the internal paper input | `{}`\n`--paper-dropdown-menu-icon` | A mixin that is applied to the internal icon | `{}`\n\nYou can also use any of the `paper-input-container` and `paper-menu-button`\nstyle mixins and custom properties to style the internal input and menu button\nrespectively.\n\n@group Paper Elements\n@element paper-dropdown-menu\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-dropdown-menu-shared-styles\"></style>\n\n    <!-- this div fulfills an a11y requirement for combobox, do not remove -->\n    <span role=\"button\"></span>\n    <paper-menu-button id=\"menuButton\" vertical-align=\"[[verticalAlign]]\" horizontal-align=\"[[horizontalAlign]]\" dynamic-align=\"[[dynamicAlign]]\" vertical-offset=\"[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]\" disabled=\"[[disabled]]\" no-animations=\"[[noAnimations]]\" on-iron-select=\"_onIronSelect\" on-iron-deselect=\"_onIronDeselect\" opened=\"{{opened}}\" close-on-activate allow-outside-scroll=\"[[allowOutsideScroll]]\" restore-focus-on-close=\"[[restoreFocusOnClose]]\">\n      <!-- support hybrid mode: user might be using paper-menu-button 1.x which distributes via <content> -->\n      <div class=\"dropdown-trigger\" slot=\"dropdown-trigger\">\n        <paper-ripple></paper-ripple>\n        <!-- paper-input has type=\"text\" for a11y, do not remove -->\n        <paper-input type=\"text\" invalid=\"[[invalid]]\" readonly disabled=\"[[disabled]]\" value=\"[[value]]\" placeholder=\"[[placeholder]]\" error-message=\"[[errorMessage]]\" always-float-label=\"[[alwaysFloatLabel]]\" no-label-float=\"[[noLabelFloat]]\" label=\"[[label]]\">\n          <!-- support hybrid mode: user might be using paper-input 1.x which distributes via <content> -->\n          <iron-icon icon=\"paper-dropdown-menu:arrow-drop-down\" suffix slot=\"suffix\"></iron-icon>\n        </paper-input>\n      </div>\n      <slot id=\"content\" name=\"dropdown-content\" slot=\"dropdown-content\"></slot>\n    </paper-menu-button>\n`,\n\n  is: 'paper-dropdown-menu',\n\n  behaviors: [\n    IronButtonState,\n    IronControlState,\n    IronFormElementBehavior,\n    IronValidatableBehavior\n  ],\n\n  properties: {\n    /**\n     * The derived \"label\" of the currently selected item. This value\n     * is the `label` property on the selected item if set, or else the\n     * trimmed text content of the selected item.\n     */\n    selectedItemLabel: {type: String, notify: true, readOnly: true},\n\n    /**\n     * The last selected item. An item is selected if the dropdown menu has\n     * a child with slot `dropdown-content`, and that child triggers an\n     * `iron-select` event with the selected `item` in the `detail`.\n     *\n     * @type {?Object}\n     */\n    selectedItem: {type: Object, notify: true, readOnly: true},\n\n    /**\n     * The value for this element that will be used when submitting in\n     * a form. It reflects the value of `selectedItemLabel`. If set directly,\n     * it will not update the `selectedItemLabel` value.\n     */\n    value: {\n      type: String,\n      notify: true,\n    },\n\n    /**\n     * The label for the dropdown.\n     */\n    label: {type: String},\n\n    /**\n     * The placeholder for the dropdown.\n     */\n    placeholder: {type: String},\n\n    /**\n     * The error message to display when invalid.\n     */\n    errorMessage: {type: String},\n\n    /**\n     * True if the dropdown is open. Otherwise, false.\n     */\n    opened:\n        {type: Boolean, notify: true, value: false, observer: '_openedChanged'},\n\n    /**\n     * By default, the dropdown will constrain scrolling on the page\n     * to itself when opened.\n     * Set to true in order to prevent scroll from being constrained\n     * to the dropdown when it opens.\n     */\n    allowOutsideScroll: {type: Boolean, value: false},\n\n    /**\n     * Set to true to disable the floating label. Bind this to the\n     * `<paper-input-container>`'s `noLabelFloat` property.\n     */\n    noLabelFloat: {type: Boolean, value: false, reflectToAttribute: true},\n\n    /**\n     * Set to true to always float the label. Bind this to the\n     * `<paper-input-container>`'s `alwaysFloatLabel` property.\n     */\n    alwaysFloatLabel: {type: Boolean, value: false},\n\n    /**\n     * Set to true to disable animations when opening and closing the\n     * dropdown.\n     */\n    noAnimations: {type: Boolean, value: false},\n\n    /**\n     * The orientation against which to align the menu dropdown\n     * horizontally relative to the dropdown trigger.\n     */\n    horizontalAlign: {type: String, value: 'right'},\n\n    /**\n     * The orientation against which to align the menu dropdown\n     * vertically relative to the dropdown trigger.\n     */\n    verticalAlign: {type: String, value: 'top'},\n\n    /**\n     * Overrides the vertical offset computed in\n     * _computeMenuVerticalOffset.\n     */\n    verticalOffset: Number,\n\n    /**\n     * If true, the `horizontalAlign` and `verticalAlign` properties will\n     * be considered preferences instead of strict requirements when\n     * positioning the dropdown and may be changed if doing so reduces\n     * the area of the dropdown falling outside of `fitInto`.\n     */\n    dynamicAlign: {type: Boolean},\n\n    /**\n     * Whether focus should be restored to the dropdown when the menu closes.\n     */\n    restoreFocusOnClose: {type: Boolean, value: true},\n  },\n\n  listeners: {'tap': '_onTap'},\n\n  /**\n   * @type {!Object}\n   */\n  keyBindings: {'up down': 'open', 'esc': 'close'},\n\n  hostAttributes:\n      {role: 'combobox', 'aria-autocomplete': 'none', 'aria-haspopup': 'true'},\n\n  observers: ['_selectedItemChanged(selectedItem)'],\n\n  attached: function() {\n    // NOTE(cdata): Due to timing, a preselected value in a `IronSelectable`\n    // child will cause an `iron-select` event to fire while the element is\n    // still in a `DocumentFragment`. This has the effect of causing\n    // handlers not to fire. So, we double check this value on attached:\n    var contentElement = this.contentElement;\n    if (contentElement && contentElement.selectedItem) {\n      this._setSelectedItem(contentElement.selectedItem);\n    }\n  },\n\n  /**\n   * The content element that is contained by the dropdown menu, if any.\n   */\n  get contentElement() {\n    // Polymer 2.x returns slot.assignedNodes which can contain text nodes.\n    var nodes = dom(this.$.content).getDistributedNodes();\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      if (nodes[i].nodeType === Node.ELEMENT_NODE) {\n        return nodes[i];\n      }\n    }\n  },\n\n  /**\n   * Show the dropdown content.\n   */\n  open: function() {\n    this.$.menuButton.open();\n  },\n\n  /**\n   * Hide the dropdown content.\n   */\n  close: function() {\n    this.$.menuButton.close();\n  },\n\n  /**\n   * A handler that is called when `iron-select` is fired.\n   *\n   * @param {CustomEvent} event An `iron-select` event.\n   */\n  _onIronSelect: function(event) {\n    this._setSelectedItem(event.detail.item);\n  },\n\n  /**\n   * A handler that is called when `iron-deselect` is fired.\n   *\n   * @param {CustomEvent} event An `iron-deselect` event.\n   */\n  _onIronDeselect: function(event) {\n    this._setSelectedItem(null);\n  },\n\n  /**\n   * A handler that is called when the dropdown is tapped.\n   *\n   * @param {CustomEvent} event A tap event.\n   */\n  _onTap: function(event) {\n    if (gestures.findOriginalTarget(event) === this) {\n      this.open();\n    }\n  },\n\n  /**\n   * Compute the label for the dropdown given a selected item.\n   *\n   * @param {Element} selectedItem A selected Element item, with an\n   * optional `label` property.\n   */\n  _selectedItemChanged: function(selectedItem) {\n    var value = '';\n    if (!selectedItem) {\n      value = '';\n    } else {\n      value = selectedItem.label || selectedItem.getAttribute('label') ||\n          selectedItem.textContent.trim();\n    }\n\n    this.value = value;\n    this._setSelectedItemLabel(value);\n  },\n\n  /**\n   * Compute the vertical offset of the menu based on the value of\n   * `noLabelFloat`.\n   *\n   * @param {boolean} noLabelFloat True if the label should not float\n   * @param {number=} opt_verticalOffset Optional offset from the user\n   * above the input, otherwise false.\n   */\n  _computeMenuVerticalOffset: function(noLabelFloat, opt_verticalOffset) {\n    // Override offset if it's passed from the user.\n    if (opt_verticalOffset) {\n      return opt_verticalOffset;\n    }\n\n    // NOTE(cdata): These numbers are somewhat magical because they are\n    // derived from the metrics of elements internal to `paper-input`'s\n    // template. The metrics will change depending on whether or not the\n    // input has a floating label.\n    return noLabelFloat ? -4 : 8;\n  },\n\n  /**\n   * Returns false if the element is required and does not have a selection,\n   * and true otherwise.\n   * @param {*=} _value Ignored.\n   * @return {boolean} true if `required` is false, or if `required` is true\n   * and the element has a valid selection.\n   */\n  _getValidity: function(_value) {\n    return this.disabled || !this.required || (this.required && !!this.value);\n  },\n\n  _openedChanged: function() {\n    var openState = this.opened ? 'true' : 'false';\n    var e = this.contentElement;\n    if (e) {\n      e.setAttribute('aria-expanded', openState);\n    }\n  }\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\n/**\n * `NeonAnimatableBehavior` is implemented by elements containing\n * animations for use with elements implementing\n * `NeonAnimationRunnerBehavior`.\n * @polymerBehavior\n */\nexport const NeonAnimatableBehavior = {\n\n  properties: {\n\n    /**\n     * Animation configuration. See README for more info.\n     */\n    animationConfig: {type: Object},\n\n    /**\n     * Convenience property for setting an 'entry' animation. Do not set\n     * `animationConfig.entry` manually if using this. The animated node is set\n     * to `this` if using this property.\n     */\n    entryAnimation: {\n      observer: '_entryAnimationChanged',\n      type: String,\n    },\n\n    /**\n     * Convenience property for setting an 'exit' animation. Do not set\n     * `animationConfig.exit` manually if using this. The animated node is set\n     * to `this` if using this property.\n     */\n    exitAnimation: {\n      observer: '_exitAnimationChanged',\n      type: String,\n    },\n\n  },\n\n  _entryAnimationChanged: function() {\n    this.animationConfig = this.animationConfig || {};\n    this.animationConfig['entry'] = [{name: this.entryAnimation, node: this}];\n  },\n\n  _exitAnimationChanged: function() {\n    this.animationConfig = this.animationConfig || {};\n    this.animationConfig['exit'] = [{name: this.exitAnimation, node: this}];\n  },\n\n  _copyProperties: function(config1, config2) {\n    // shallowly copy properties from config2 to config1\n    for (var property in config2) {\n      config1[property] = config2[property];\n    }\n  },\n\n  _cloneConfig: function(config) {\n    var clone = {isClone: true};\n    this._copyProperties(clone, config);\n    return clone;\n  },\n\n  _getAnimationConfigRecursive: function(type, map, allConfigs) {\n    if (!this.animationConfig) {\n      return;\n    }\n\n    if (this.animationConfig.value &&\n        typeof this.animationConfig.value === 'function') {\n      this._warn(this._logf(\n          'playAnimation',\n          'Please put \\'animationConfig\\' inside of your components \\'properties\\' object instead of outside of it.'));\n      return;\n    }\n\n    // type is optional\n    var thisConfig;\n    if (type) {\n      thisConfig = this.animationConfig[type];\n    } else {\n      thisConfig = this.animationConfig;\n    }\n\n    if (!Array.isArray(thisConfig)) {\n      thisConfig = [thisConfig];\n    }\n\n    // iterate animations and recurse to process configurations from child nodes\n    if (thisConfig) {\n      for (var config, index = 0; config = thisConfig[index]; index++) {\n        if (config.animatable) {\n          config.animatable._getAnimationConfigRecursive(\n              config.type || type, map, allConfigs);\n        } else {\n          if (config.id) {\n            var cachedConfig = map[config.id];\n            if (cachedConfig) {\n              // merge configurations with the same id, making a clone lazily\n              if (!cachedConfig.isClone) {\n                map[config.id] = this._cloneConfig(cachedConfig);\n                cachedConfig = map[config.id];\n              }\n              this._copyProperties(cachedConfig, config);\n            } else {\n              // put any configs with an id into a map\n              map[config.id] = config;\n            }\n          } else {\n            allConfigs.push(config);\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * An element implementing `NeonAnimationRunnerBehavior` calls this\n   * method to configure an animation with an optional type. Elements\n   * implementing `NeonAnimatableBehavior` should define the property\n   * `animationConfig`, which is either a configuration object or a map of\n   * animation type to array of configuration objects.\n   */\n  getAnimationConfig: function(type) {\n    var map = {};\n    var allConfigs = [];\n    this._getAnimationConfigRecursive(type, map, allConfigs);\n    // append the configurations saved in the map to the array\n    for (var key in map) {\n      allConfigs.push(map[key]);\n    }\n    return allConfigs;\n  }\n\n};\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {NeonAnimatableBehavior} from './neon-animatable-behavior.js';\n\n/**\n * `NeonAnimationRunnerBehavior` adds a method to run animations.\n *\n * @polymerBehavior NeonAnimationRunnerBehavior\n */\nexport const NeonAnimationRunnerBehaviorImpl = {\n\n  _configureAnimations: function(configs) {\n    var results = [];\n    var resultsToPlay = [];\n\n    if (configs.length > 0) {\n      for (let config, index = 0; config = configs[index]; index++) {\n        let neonAnimation = document.createElement(config.name);\n        // is this element actually a neon animation?\n        if (neonAnimation.isNeonAnimation) {\n          let result = null;\n          // Closure compiler does not work well with a try / catch here.\n          // .configure needs to be explicitly defined\n          if (!neonAnimation.configure) {\n            /**\n             * @param {Object} config\n             * @return {AnimationEffectReadOnly}\n             */\n            neonAnimation.configure = function(config) {\n              return null;\n            }\n          }\n\n          result = neonAnimation.configure(config);\n          resultsToPlay.push({\n            result: result,\n            config: config,\n            neonAnimation: neonAnimation,\n          });\n        } else {\n          console.warn(this.is + ':', config.name, 'not found!');\n        }\n      }\n    }\n\n    for (var i = 0; i < resultsToPlay.length; i++) {\n      let result = resultsToPlay[i].result;\n      let config = resultsToPlay[i].config;\n      let neonAnimation = resultsToPlay[i].neonAnimation;\n      // configuration or play could fail if polyfills aren't loaded\n      try {\n        // Check if we have an Effect rather than an Animation\n        if (typeof result.cancel != 'function') {\n          result = document.timeline.play(result);\n        }\n      } catch (e) {\n        result = null;\n        console.warn('Couldnt play', '(', config.name, ').', e);\n      }\n\n      if (result) {\n        results.push({\n          neonAnimation: neonAnimation,\n          config: config,\n          animation: result,\n        });\n      }\n    }\n\n    return results;\n  },\n\n  _shouldComplete: function(activeEntries) {\n    var finished = true;\n    for (var i = 0; i < activeEntries.length; i++) {\n      if (activeEntries[i].animation.playState != 'finished') {\n        finished = false;\n        break;\n      }\n    }\n    return finished;\n  },\n\n  _complete: function(activeEntries) {\n    for (var i = 0; i < activeEntries.length; i++) {\n      activeEntries[i].neonAnimation.complete(activeEntries[i].config);\n    }\n    for (var i = 0; i < activeEntries.length; i++) {\n      activeEntries[i].animation.cancel();\n    }\n  },\n\n  /**\n   * Plays an animation with an optional `type`.\n   * @param {string=} type\n   * @param {!Object=} cookie\n   */\n  playAnimation: function(type, cookie) {\n    var configs = this.getAnimationConfig(type);\n    if (!configs) {\n      return;\n    }\n    this._active = this._active || {};\n    if (this._active[type]) {\n      this._complete(this._active[type]);\n      delete this._active[type];\n    }\n\n    var activeEntries = this._configureAnimations(configs);\n\n    if (activeEntries.length == 0) {\n      this.fire('neon-animation-finish', cookie, {bubbles: false});\n      return;\n    }\n\n    this._active[type] = activeEntries;\n\n    for (var i = 0; i < activeEntries.length; i++) {\n      activeEntries[i].animation.onfinish = function() {\n        if (this._shouldComplete(activeEntries)) {\n          this._complete(activeEntries);\n          delete this._active[type];\n          this.fire('neon-animation-finish', cookie, {bubbles: false});\n        }\n      }.bind(this);\n    }\n  },\n\n  /**\n   * Cancels the currently running animations.\n   */\n  cancelAnimation: function() {\n    for (var k in this._active) {\n      var entries = this._active[k]\n\n                    for (var j in entries) {\n        entries[j].animation.cancel();\n      }\n    }\n\n    this._active = {};\n  }\n};\n\n/** @polymerBehavior */\nexport const NeonAnimationRunnerBehavior =\n    [NeonAnimatableBehavior, NeonAnimationRunnerBehaviorImpl];\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-iconset-svg/iron-iconset-svg.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML =\n    `<iron-iconset-svg name=\"paper-dropdown-menu\" size=\"24\">\n<svg><defs>\n<g id=\"arrow-drop-down\"><path d=\"M7 10l5 5 5-5z\"></path></g>\n</defs></svg>\n</iron-iconset-svg>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/paper-styles/default-theme.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML =\n    `<dom-module id=\"paper-dropdown-menu-shared-styles\">\n  <template>\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        text-align: left;\n\n        /* NOTE(cdata): Both values are needed, since some phones require the\n         * value to be \\`transparent\\`.\n         */\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        -webkit-tap-highlight-color: transparent;\n\n        --paper-input-container-input: {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          max-width: 100%;\n          box-sizing: border-box;\n          cursor: pointer;\n        };\n\n        @apply --paper-dropdown-menu;\n      }\n\n      :host([disabled]) {\n        @apply --paper-dropdown-menu-disabled;\n      }\n\n      :host([noink]) paper-ripple {\n        display: none;\n      }\n\n      :host([no-label-float]) paper-ripple {\n        top: 8px;\n      }\n\n      paper-ripple {\n        top: 12px;\n        left: 0px;\n        bottom: 8px;\n        right: 0px;\n\n        @apply --paper-dropdown-menu-ripple;\n      }\n\n      paper-menu-button {\n        display: block;\n        padding: 0;\n\n        @apply --paper-dropdown-menu-button;\n      }\n\n      paper-input {\n        @apply --paper-dropdown-menu-input;\n      }\n\n      iron-icon {\n        color: var(--disabled-text-color);\n\n        @apply --paper-dropdown-menu-icon;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import \"@polymer/paper-dropdown-menu/paper-dropdown-menu\";\nimport { PolymerElement } from \"@polymer/polymer\";\nimport { Constructor } from \"../types\";\n\nconst paperDropdownClass = customElements.get(\n  \"paper-dropdown-menu\"\n) as Constructor<PolymerElement>;\n\n// patches paper drop down to properly support RTL - https://github.com/PolymerElements/paper-dropdown-menu/issues/183\nexport class HaPaperDropdownClass extends paperDropdownClass {\n  public ready() {\n    super.ready();\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      if (window.getComputedStyle(this).direction === \"rtl\") {\n        this.style.textAlign = \"right\";\n      }\n    }, 100);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-paper-dropdown-menu\": HaPaperDropdownClass;\n  }\n}\n\ncustomElements.define(\"ha-paper-dropdown-menu\", HaPaperDropdownClass);\n","import { HomeAssistant } from \"../types\";\n\nexport interface InputSelect {\n  id: string;\n  name: string;\n  options: string[];\n  icon?: string;\n  initial?: string;\n}\n\nexport interface InputSelectMutableParams {\n  name: string;\n  icon: string;\n  initial: string;\n  options: string[];\n}\n\nexport const setInputSelectOption = (\n  hass: HomeAssistant,\n  entity: string,\n  option: string\n) =>\n  hass.callService(\"input_select\", \"select_option\", {\n    option,\n    entity_id: entity,\n  });\n\nexport const fetchInputSelect = (hass: HomeAssistant) =>\n  hass.callWS<InputSelect[]>({ type: \"input_select/list\" });\n\nexport const createInputSelect = (\n  hass: HomeAssistant,\n  values: InputSelectMutableParams\n) =>\n  hass.callWS<InputSelect>({\n    type: \"input_select/create\",\n    ...values,\n  });\n\nexport const updateInputSelect = (\n  hass: HomeAssistant,\n  id: string,\n  updates: Partial<InputSelectMutableParams>\n) =>\n  hass.callWS<InputSelect>({\n    type: \"input_select/update\",\n    input_select_id: id,\n    ...updates,\n  });\n\nexport const deleteInputSelect = (hass: HomeAssistant, id: string) =>\n  hass.callWS({\n    type: \"input_select/delete\",\n    input_select_id: id,\n  });\n","export const stopPropagation = (ev) => ev.stopPropagation();\n","import \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-listbox/paper-listbox\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport { ifDefined } from \"lit-html/directives/if-defined\";\nimport { DOMAINS_HIDE_MORE_INFO } from \"../../../common/const\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport { computeStateName } from \"../../../common/entity/compute_state_name\";\nimport \"../../../components/entity/state-badge\";\nimport \"../../../components/ha-paper-dropdown-menu\";\nimport { UNAVAILABLE_STATES } from \"../../../data/entity\";\nimport { forwardHaptic } from \"../../../data/haptics\";\nimport { setInputSelectOption } from \"../../../data/input_select\";\nimport { ActionHandlerEvent } from \"../../../data/lovelace\";\nimport { HomeAssistant, InputSelectEntity } from \"../../../types\";\nimport { EntitiesCardEntityConfig } from \"../cards/types\";\nimport { actionHandler } from \"../common/directives/action-handler-directive\";\nimport { handleAction } from \"../common/handle-action\";\nimport { hasAction } from \"../common/has-action\";\nimport { hasConfigOrEntityChanged } from \"../common/has-changed\";\nimport \"../components/hui-warning\";\nimport { LovelaceRow } from \"./types\";\n\n@customElement(\"hui-input-select-entity-row\")\nclass HuiInputSelectEntityRow extends LitElement implements LovelaceRow {\n  @property() public hass?: HomeAssistant;\n\n  @property() private _config?: EntitiesCardEntityConfig;\n\n  public setConfig(config: EntitiesCardEntityConfig): void {\n    if (!config || !config.entity) {\n      throw new Error(\"Invalid Configuration: 'entity' required\");\n    }\n\n    this._config = config;\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    return hasConfigOrEntityChanged(this, changedProps);\n  }\n\n  protected render(): TemplateResult {\n    if (!this.hass || !this._config) {\n      return html``;\n    }\n\n    const stateObj = this.hass.states[this._config.entity] as\n      | InputSelectEntity\n      | undefined;\n\n    if (!stateObj) {\n      return html`\n        <hui-warning\n          >${this.hass.localize(\n            \"ui.panel.lovelace.warning.entity_not_found\",\n            \"entity\",\n            this._config.entity\n          )}</hui-warning\n        >\n      `;\n    }\n\n    const pointer =\n      (this._config.tap_action && this._config.tap_action.action !== \"none\") ||\n      (this._config.entity &&\n        !DOMAINS_HIDE_MORE_INFO.includes(computeDomain(this._config.entity)));\n\n    return html`\n      <state-badge\n        .stateObj=${stateObj}\n        .stateColor=${this._config.state_color}\n        .overrideIcon=${this._config.icon}\n        .overrideImage=${this._config.image}\n        class=${classMap({\n          pointer,\n        })}\n        @action=${this._handleAction}\n        .actionHandler=${actionHandler({\n          hasHold: hasAction(this._config!.hold_action),\n          hasDoubleClick: hasAction(this._config!.double_tap_action),\n        })}\n        tabindex=${ifDefined(pointer ? \"0\" : undefined)}\n      ></state-badge>\n      <ha-paper-dropdown-menu\n        .label=${this._config.name || computeStateName(stateObj)}\n        .value=${stateObj.state}\n        .disabled=${UNAVAILABLE_STATES.includes(stateObj.state)}\n        @iron-select=${this._selectedChanged}\n        @click=${stopPropagation}\n      >\n        <paper-listbox slot=\"dropdown-content\">\n          ${stateObj.attributes.options\n            ? stateObj.attributes.options.map(\n                (option) => html` <paper-item>${option}</paper-item> `\n              )\n            : \"\"}\n        </paper-listbox>\n      </ha-paper-dropdown-menu>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    if (!this.hass || !this._config) {\n      return;\n    }\n\n    const stateObj = this.hass.states[this._config.entity] as\n      | InputSelectEntity\n      | undefined;\n\n    if (!stateObj) {\n      return;\n    }\n\n    // Update selected after rendering the items or else it won't work in Firefox\n    if (stateObj.attributes.options) {\n      this.shadowRoot!.querySelector(\n        \"paper-listbox\"\n      )!.selected = stateObj.attributes.options.indexOf(stateObj.state);\n    }\n  }\n\n  private _handleAction(ev: ActionHandlerEvent) {\n    handleAction(this, this.hass!, this._config!, ev.detail.action!);\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: flex;\n        align-items: center;\n      }\n      ha-paper-dropdown-menu {\n        margin-left: 16px;\n        flex: 1;\n      }\n      paper-item {\n        cursor: pointer;\n        min-width: 200px;\n      }\n      .pointer {\n        cursor: pointer;\n      }\n      state-badge:focus {\n        outline: none;\n        background: var(--divider-color);\n        border-radius: 100%;\n      }\n    `;\n  }\n\n  private _selectedChanged(ev): void {\n    const stateObj = this.hass!.states[this._config!.entity];\n    const option = ev.target.selectedItem.innerText.trim();\n    if (option === stateObj.state) {\n      return;\n    }\n\n    forwardHaptic(\"light\");\n\n    setInputSelectOption(this.hass!, stateObj.entity_id, option);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-input-select-entity-row\": HuiInputSelectEntityRow;\n  }\n}\n"],"sourceRoot":""}