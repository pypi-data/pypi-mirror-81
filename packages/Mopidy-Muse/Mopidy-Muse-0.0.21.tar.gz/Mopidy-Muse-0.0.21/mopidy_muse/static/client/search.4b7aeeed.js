import{S as e,a as l,s as t,e as a,b as s,Q as o,a9 as n,t as r,f as c,g as i,m as d,j as h,k as f,l as u,n as m,d as p,h as v,ah as x,P as g,A as b,B as $,G as w,v as k,w as y,x as E,y as A,p as I,V as D,D as V,C as P,ai as T,u as j,K as S,a6 as O,am as z,L as N,Z as B,aa as C,al as M,O as U,ab as q,ad as R,i as H,ac as F,aQ as Q,H as G,o as J,T as K,aj as L,ap as W,a0 as X,a1 as Y,aR as Z,aS as _,aT as ee,aU as le,as as te,at as ae,aP as se,aO as oe,aV as ne,z as re,E as ce,F as ie,I as de,J as he,W as fe,av as ue,$ as me}from"./client.3de49f94.js";import{f as pe}from"./index.91eff91f.js";import{c as ve}from"./clickOutside.69487d64.js";function xe(e,l,t){const a=e.slice();return a[11]=l[t],a}function ge(e){let l,t,o,n,p=e[1].name+"";return{c(){l=a("p"),t=r("Add "),o=r(p),n=r(" to a playlist"),this.h()},l(e){l=c(e,"P",{class:!0});var a=i(l);t=d(a,"Add "),o=d(a,p),n=d(a," to a playlist"),a.forEach(h),this.h()},h(){f(l,"class","label")},m(e,a){u(e,l,a),s(l,t),s(l,o),s(l,n)},p(e,l){2&l&&p!==(p=e[1].name+"")&&m(o,p)},d(e){e&&h(l)}}}function be(e){let l,t=e[15].message+"";return{c(){l=r(t)},l(e){l=d(e,t)},m(e,t){u(e,l,t)},p(e,a){8&a&&t!==(t=e[15].message+"")&&m(l,t)},i:U,o:U,d(e){e&&h(l)}}}function $e(e){let l,t,n,x,g,w,E,D,V,T,j,S,O=(e[14].tracks?e[14].tracks.length:"0")+"";return D=new o({props:{icon:R,class:"icon"}}),{c(){l=a("div"),t=r("("),n=r(O),x=r(")"),g=p(),w=a("div"),E=a("a"),k(D.$$.fragment),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=d(a,"("),n=d(a,O),x=d(a,")"),a.forEach(h),g=v(e),w=c(e,"DIV",{class:!0});var s=i(w);E=c(s,"A",{href:!0});var o=i(E);y(D.$$.fragment,o),o.forEach(h),s.forEach(h),this.h()},h(){f(l,"class","column is-narrow"),f(E,"href",V=null),f(w,"class","column is-narrow")},m(a,o){u(a,l,o),s(l,t),s(l,n),s(l,x),u(a,g,o),u(a,w,o),s(w,E),A(D,E,null),T=!0,j||(S=I(E,"click",function(){H(e[4](e[14]))&&e[4](e[14]).apply(this,arguments)}),j=!0)},p(l,t){e=l,(!T||8&t)&&O!==(O=(e[14].tracks?e[14].tracks.length:"0")+"")&&m(n,O)},i(e){T||(b(D.$$.fragment,e),T=!0)},o(e){$(D.$$.fragment,e),T=!1},d(e){e&&h(l),e&&h(g),e&&h(w),P(D),j=!1,S()}}}function we(e){let l;return{c(){l=r("loading..")},l(e){l=d(e,"loading..")},m(e,t){u(e,l,t)},p:U,i:U,o:U,d(e){e&&h(l)}}}function ke(e){let l,t,o,n,w,k,y,E,A=e[11].name+"",I={ctx:e,current:null,token:null,hasCatch:!0,pending:we,then:$e,catch:be,value:14,error:15,blocks:[,,,]};return g(k=x(e[11].uri),I),{c(){l=a("div"),t=a("div"),o=a("div"),n=r(A),w=p(),I.block.c(),y=p(),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0});var s=i(t);o=c(s,"DIV",{class:!0});var r=i(o);n=d(r,A),r.forEach(h),w=v(s),I.block.l(s),s.forEach(h),y=v(a),a.forEach(h),this.h()},h(){f(o,"class","column"),f(t,"class","columns is-mobile"),f(l,"class","list-item")},m(e,a){u(e,l,a),s(l,t),s(t,o),s(o,n),s(t,w),I.block.m(t,I.anchor=null),I.mount=(()=>t),I.anchor=null,s(l,y),E=!0},p(l,t){if(e=l,(!E||8&t)&&A!==(A=e[11].name+"")&&m(n,A),I.ctx=e,8&t&&k!==(k=x(e[11].uri))&&g(k,I));else{const l=e.slice();l[14]=l[15]=I.resolved,I.block.p(l,t)}},i(e){E||(b(I.block),E=!0)},o(e){for(let e=0;e<3;e+=1){const l=I.blocks[e];$(l)}E=!1},d(e){e&&h(l),I.block.d(),I.token=null,I=null}}}function ye(e){let l,t,a,s={ctx:e,current:null,token:null,hasCatch:!1,pending:Ve,then:Ae,catch:Ee,value:10,blocks:[,,,]};return g(t=e[2],s),{c(){l=w(),s.block.c()},l(e){l=w(),s.block.l(e)},m(e,t){u(e,l,t),s.block.m(e,s.anchor=t),s.mount=(()=>l.parentNode),s.anchor=l,a=!0},p(l,a){if(e=l,s.ctx=e,4&a&&t!==(t=e[2])&&g(t,s));else{const l=e.slice();l[10]=s.resolved,s.block.p(l,a)}},i(e){a||(b(s.block),a=!0)},o(e){for(let e=0;e<3;e+=1){const l=s.blocks[e];$(l)}a=!1},d(e){e&&h(l),s.block.d(e),s.token=null,s=null}}}function Ee(e){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function Ae(e){let l,t,a,s;const o=[De,Ie],n=[];function r(e,l){return e[10]?0:1}return l=r(e),t=n[l]=o[l](e),{c(){t.c(),a=w()},l(e){t.l(e),a=w()},m(e,t){n[l].m(e,t),u(e,a,t),s=!0},p(e,s){let c=l;(l=r(e))===c?n[l].p(e,s):(D(),$(n[c],1,1,()=>{n[c]=null}),V(),(t=n[l])||(t=n[l]=o[l](e)).c(),b(t,1),t.m(a.parentNode,a))},i(e){s||(b(t),s=!0)},o(e){$(t),s=!1},d(e){n[l].d(e),e&&h(a)}}}function Ie(e){let l;return{c(){l=r("Error")},l(e){l=d(e,"Error")},m(e,t){u(e,l,t)},p:U,i:U,o:U,d(e){e&&h(l)}}}function De(e){let l,t,s,n;return t=new o({props:{icon:F,class:"icon"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"class","button svelte-xd5b65"),f(l,"href",s=null)},m(e,a){u(e,l,a),A(t,l,null),n=!0},p:U,i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){e&&h(l),P(t)}}}function Ve(e){let l,t,n,m,x,g,w;return t=new o({props:{icon:q,spin:!0,class:"icon"}}),{c(){l=a("a"),k(t.$$.fragment),m=p(),x=a("button"),g=r("Save changes"),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),m=v(e),x=c(e,"BUTTON",{class:!0});var s=i(x);g=d(s,"Save changes"),s.forEach(h),this.h()},h(){f(l,"class","button svelte-xd5b65"),f(l,"href",n=null),f(x,"class","button is-success svelte-xd5b65")},m(e,a){u(e,l,a),A(t,l,null),u(e,m,a),u(e,x,a),s(x,g),w=!0},p:U,i(e){w||(b(t.$$.fragment,e),w=!0)},o(e){$(t.$$.fragment,e),w=!1},d(e){e&&h(l),P(t),e&&h(m),e&&h(x)}}}function Pe(e){let l,t,m,x,g,w,S,O,z,N,B,C,M,U,q,R,H,F,Q,G,J,K,L;N=new o({props:{icon:n,class:"icon"}});let W=e[1]&&ge(e),X=e[3],Y=[];for(let l=0;l<X.length;l+=1)Y[l]=ke(xe(e,X,l));const Z=e=>$(Y[e],1,1,()=>{Y[e]=null});let _=e[2]&&ye(e);return{c(){l=a("div"),t=a("div"),m=p(),x=a("div"),g=a("header"),w=a("p"),S=r("Add to playlist"),O=p(),z=a("a"),k(N.$$.fragment),C=p(),M=a("section"),W&&W.c(),U=p(),q=a("div");for(let e=0;e<Y.length;e+=1)Y[e].c();R=r("\n       "),H=p(),F=a("footer"),_&&_.c(),Q=p(),G=a("button"),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0}),i(t).forEach(h),m=v(a),x=c(a,"DIV",{class:!0});var s=i(x);g=c(s,"HEADER",{class:!0});var o=i(g);w=c(o,"P",{class:!0});var n=i(w);S=d(n,"Add to playlist"),n.forEach(h),O=v(o),z=c(o,"A",{href:!0,"aria-label":!0});var r=i(z);y(N.$$.fragment,r),r.forEach(h),o.forEach(h),C=v(s),M=c(s,"SECTION",{class:!0});var f=i(M);W&&W.l(f),U=v(f),q=c(f,"DIV",{class:!0});var u=i(q);for(let e=0;e<Y.length;e+=1)Y[e].l(u);u.forEach(h),R=d(f,"\n       "),f.forEach(h),H=v(s),F=c(s,"FOOTER",{class:!0});var p=i(F);_&&_.l(p),p.forEach(h),s.forEach(h),Q=v(a),G=c(a,"BUTTON",{class:!0,"aria-label":!0}),i(G).forEach(h),a.forEach(h),this.h()},h(){f(t,"class","modal-background svelte-xd5b65"),f(w,"class","modal-card-title svelte-xd5b65"),f(z,"href",B=null),f(z,"aria-label","close"),f(g,"class","modal-card-head svelte-xd5b65"),f(q,"class","list is-hoverable"),f(M,"class","modal-card-body svelte-xd5b65"),f(F,"class","modal-card-foot svelte-xd5b65"),f(x,"class","modal-card svelte-xd5b65"),f(G,"class","modal-close is-large svelte-xd5b65"),f(G,"aria-label","close"),f(l,"class","modal svelte-xd5b65"),E(l,"is-active",e[0])},m(a,o){u(a,l,o),s(l,t),s(l,m),s(l,x),s(x,g),s(g,w),s(w,S),s(g,O),s(g,z),A(N,z,null),s(x,C),s(x,M),W&&W.m(M,null),s(M,U),s(M,q);for(let e=0;e<Y.length;e+=1)Y[e].m(q,null);s(M,R),s(x,H),s(x,F),_&&_.m(F,null),s(l,Q),s(l,G),J=!0,K||(L=[I(t,"click",e[5]),I(z,"click",e[6]),I(G,"click",e[7])],K=!0)},p(e,[t]){if(e[1]?W?W.p(e,t):((W=ge(e)).c(),W.m(M,U)):W&&(W.d(1),W=null),24&t){let l;for(X=e[3],l=0;l<X.length;l+=1){const a=xe(e,X,l);Y[l]?(Y[l].p(a,t),b(Y[l],1)):(Y[l]=ke(a),Y[l].c(),b(Y[l],1),Y[l].m(q,null))}for(D(),l=X.length;l<Y.length;l+=1)Z(l);V()}e[2]?_?(_.p(e,t),4&t&&b(_,1)):((_=ye(e)).c(),b(_,1),_.m(F,null)):_&&(D(),$(_,1,1,()=>{_=null}),V()),1&t&&E(l,"is-active",e[0])},i(e){if(!J){b(N.$$.fragment,e);for(let e=0;e<X.length;e+=1)b(Y[e]);b(_),J=!0}},o(e){$(N.$$.fragment,e),Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)$(Y[e]);$(_),J=!1},d(e){e&&h(l),P(N),W&&W.d(),T(Y,e),_&&_.d(),K=!1,j(L)}}}function Te(e,l,t){let a,s;S(e,O,e=>t(8,a=e)),S(e,z,e=>t(3,s=e));let o,{showAddToPlaylistModal:n}=l,{track:r}=l;N(async()=>{B(O,a=await C(),a),B(z,s=await M(),s)});const c=async e=>{return e.tracks?e.tracks.push(r):e.tracks=[r],!!await a.playlists.save({playlist:e})&&(B(z,s=await M(),s),!0)};return e.$$set=(e=>{"showAddToPlaylistModal"in e&&t(0,n=e.showAddToPlaylistModal),"track"in e&&t(1,r=e.track)}),[n,r,o,s,e=>{t(2,o=c(e))},()=>t(0,n=!n),()=>t(0,n=!n),()=>t(0,n=!n)]}class je extends e{constructor(e){var o;super(),document.getElementById("svelte-xd5b65-style")||((o=a("style")).id="svelte-xd5b65-style",o.textContent='.modal.svelte-xd5b65.svelte-xd5b65,.modal-background.svelte-xd5b65.svelte-xd5b65{bottom:0;left:0;position:absolute;right:0;top:0}.modal-close.svelte-xd5b65.svelte-xd5b65{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10, 10, 10, 0.2);border:none;border-radius:290486px;cursor:pointer;pointer-events:auto;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;position:relative;vertical-align:top;width:20px}.modal-close.svelte-xd5b65.svelte-xd5b65::before,.modal-close.svelte-xd5b65.svelte-xd5b65::after{background-color:white;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.modal-close.svelte-xd5b65.svelte-xd5b65::before{height:2px;width:50%}.modal-close.svelte-xd5b65.svelte-xd5b65::after{height:50%;width:2px}.modal-close.svelte-xd5b65.svelte-xd5b65:hover,.modal-close.svelte-xd5b65.svelte-xd5b65:focus{background-color:rgba(10, 10, 10, 0.3)}.modal-close.svelte-xd5b65.svelte-xd5b65:active{background-color:rgba(10, 10, 10, 0.4)}.is-large.modal-close.svelte-xd5b65.svelte-xd5b65{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.modal.svelte-xd5b65.svelte-xd5b65{align-items:center;display:none;flex-direction:column;justify-content:center;overflow:hidden;position:fixed;z-index:40}.modal.is-active.svelte-xd5b65.svelte-xd5b65{display:flex}.modal-background.svelte-xd5b65.svelte-xd5b65{background-color:rgba(10, 10, 10, 0.86)}.modal-card.svelte-xd5b65.svelte-xd5b65{margin:0 20px;max-height:calc(100vh - 160px);overflow:auto;position:relative;width:100%}@media screen and (min-width: 769px), print{.modal-card.svelte-xd5b65.svelte-xd5b65{margin:0 auto;max-height:calc(100vh - 40px);width:640px}}.modal-close.svelte-xd5b65.svelte-xd5b65{background:none;height:40px;position:fixed;right:20px;top:20px;width:40px}.modal-card.svelte-xd5b65.svelte-xd5b65{display:flex;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden;overflow-y:visible;-ms-overflow-y:visible}.modal-card-head.svelte-xd5b65.svelte-xd5b65,.modal-card-foot.svelte-xd5b65.svelte-xd5b65{align-items:center;background-color:whitesmoke;display:flex;flex-shrink:0;justify-content:flex-start;padding:20px;position:relative}.modal-card-head.svelte-xd5b65.svelte-xd5b65{border-bottom:1px solid #dbdbdb;border-top-left-radius:6px;border-top-right-radius:6px}.modal-card-title.svelte-xd5b65.svelte-xd5b65{color:#363636;flex-grow:1;flex-shrink:0;font-size:1.5rem;line-height:1}.modal-card-foot.svelte-xd5b65.svelte-xd5b65{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top:1px solid #dbdbdb}.modal-card-foot.svelte-xd5b65 .button.svelte-xd5b65:not(:last-child){margin-right:0.5em}.modal-card-body.svelte-xd5b65.svelte-xd5b65{-webkit-overflow-scrolling:touch;background-color:white;flex-grow:1;flex-shrink:1;overflow:auto;padding:20px}',s(document.head,o)),l(this,e,Te,Pe,t,{showAddToPlaylistModal:0,track:1})}}function Se(e,l,t){const a=e.slice();return a[30]=l[t],a[32]=t,a}function Oe(e,l,t){const a=e.slice();return a[34]=l[t],a}function ze(e){let l,t,a,s,n=e[34]+"";return l=new o({props:{icon:ne,class:"icon is-small"}}),{c(){k(l.$$.fragment),t=r("   "),a=r(n)},l(e){y(l.$$.fragment,e),t=d(e,"   "),a=d(e,n)},m(e,o){A(l,e,o),u(e,t,o),u(e,a,o),s=!0},p(e,l){(!s||2&l[0])&&n!==(n=e[34]+"")&&m(a,n)},i(e){s||(b(l.$$.fragment,e),s=!0)},o(e){$(l.$$.fragment,e),s=!1},d(e){P(l,e),e&&h(t),e&&h(a)}}}function Ne(e){let l,t,a,s,n=e[34]+"";return l=new o({props:{icon:e[10][e[34]],class:"icon is-small"}}),{c(){k(l.$$.fragment),t=r("   "),a=r(n)},l(e){y(l.$$.fragment,e),t=d(e,"   "),a=d(e,n)},m(e,o){A(l,e,o),u(e,t,o),u(e,a,o),s=!0},p(e,t){const o={};2&t[0]&&(o.icon=e[10][e[34]]),l.$set(o),(!s||2&t[0])&&n!==(n=e[34]+"")&&m(a,n)},i(e){s||(b(l.$$.fragment,e),s=!0)},o(e){$(l.$$.fragment,e),s=!1},d(e){P(l,e),e&&h(t),e&&h(a)}}}function Be(e){let l,t,o,n,r,d,m;const x=[Ne,ze],g=[];function w(e,l){return e[34]in e[10]?0:1}function k(...l){return e[22](e[34],...l)}return t=w(e),o=g[t]=x[t](e),{c(){l=a("span"),o.c(),n=p(),this.h()},l(e){l=c(e,"SPAN",{class:!0});var t=i(l);o.l(t),n=v(t),t.forEach(h),this.h()},h(){f(l,"class","tag svelte-1ixbxod"),E(l,"is-primary",e[0][e[34]])},m(e,a){u(e,l,a),g[t].m(l,null),s(l,n),r=!0,d||(m=I(l,"click",k),d=!0)},p(a,s){let r=t;(t=w(e=a))===r?g[t].p(e,s):(D(),$(g[r],1,1,()=>{g[r]=null}),V(),(o=g[t])||(o=g[t]=x[t](e)).c(),b(o,1),o.m(l,n)),3&s[0]&&E(l,"is-primary",e[0][e[34]])},i(e){r||(b(o),r=!0)},o(e){$(o),r=!1},d(e){e&&h(l),g[t].d(),d=!1,m()}}}function Ce(e){let l,t,n,m,x,g,w,T,S,O,z,N,B,C,M,U,q,R,F,Q,G,J,X,Y,Z;const _=[Ue,Me],ee=[];function le(e,l){return e[4]?0:1}return m=le(e),x=ee[m]=_[m](e),O=new o({props:{icon:K,class:"icon is-small"}}),M=new o({props:{icon:L,class:"icon is-small"}}),Q=new o({props:{icon:W,class:"icon is-small"}}),{c(){l=a("div"),t=a("div"),n=a("div"),x.c(),g=p(),w=a("div"),T=a("div"),S=a("a"),k(O.$$.fragment),z=r(" \n                  Play All"),B=p(),C=a("a"),k(M.$$.fragment),U=r(" \n                  Shuffle & Play All"),R=p(),F=a("a"),k(Q.$$.fragment),G=r(" \n                  Add to queue"),this.h()},l(e){l=c(e,"DIV",{class:!0});var a=i(l);t=c(a,"DIV",{class:!0});var s=i(t);n=c(s,"DIV",{class:!0});var o=i(n);x.l(o),o.forEach(h),g=v(s),w=c(s,"DIV",{class:!0,id:!0,role:!0});var r=i(w);T=c(r,"DIV",{class:!0});var f=i(T);S=c(f,"A",{href:!0,class:!0});var u=i(S);y(O.$$.fragment,u),z=d(u," \n                  Play All"),u.forEach(h),B=v(f),C=c(f,"A",{href:!0,class:!0});var m=i(C);y(M.$$.fragment,m),U=d(m," \n                  Shuffle & Play All"),m.forEach(h),R=v(f),F=c(f,"A",{href:!0,class:!0});var p=i(F);y(Q.$$.fragment,p),G=d(p," \n                  Add to queue"),p.forEach(h),f.forEach(h),r.forEach(h),s.forEach(h),a.forEach(h),this.h()},h(){f(n,"class","dropdown-trigger"),f(S,"href",N=null),f(S,"class","dropdown-item"),f(C,"href",q=null),f(C,"class","dropdown-item"),f(F,"href",J=null),f(F,"class","dropdown-item"),f(T,"class","dropdown-content"),f(w,"class","dropdown-menu"),f(w,"id","dropdown-menu"),f(w,"role","menu"),f(t,"class","dropdown is-right"),E(t,"is-active",e[4]),f(l,"class","column is-narrow")},m(a,o){u(a,l,o),s(l,t),s(t,n),ee[m].m(n,null),s(t,g),s(t,w),s(w,T),s(T,S),A(O,S,null),s(S,z),s(T,B),s(T,C),A(M,C,null),s(C,U),s(T,R),s(T,F),A(Q,F,null),s(F,G),X=!0,Y||(Z=[I(n,"click",e[23]),I(S,"click",function(){H(e[16](e[7]))&&e[16](e[7]).apply(this,arguments)}),I(C,"click",function(){H(e[19](e[7]))&&e[19](e[7]).apply(this,arguments)}),I(F,"click",function(){H(e[20](e[7]))&&e[20](e[7]).apply(this,arguments)})],Y=!0)},p(l,a){let s=m;(m=le(e=l))===s?ee[m].p(e,a):(D(),$(ee[s],1,1,()=>{ee[s]=null}),V(),(x=ee[m])||(x=ee[m]=_[m](e)).c(),b(x,1),x.m(n,null)),16&a[0]&&E(t,"is-active",e[4])},i(e){X||(b(x),b(O.$$.fragment,e),b(M.$$.fragment,e),b(Q.$$.fragment,e),X=!0)},o(e){$(x),$(O.$$.fragment,e),$(M.$$.fragment,e),$(Q.$$.fragment,e),X=!1},d(e){e&&h(l),ee[m].d(),P(O),P(M),P(Q),Y=!1,j(Z)}}}function Me(e){let l,t,s,n;return t=new o({props:{icon:X,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{href:!0,class:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(e,a){u(e,l,a),A(t,l,null),n=!0},p:U,i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){e&&h(l),P(t)}}}function Ue(e){let l,t,s,n;return t=new o({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){l=a("a"),k(t.$$.fragment),this.h()},l(e){l=c(e,"A",{href:!0,class:!0});var a=i(l);y(t.$$.fragment,a),a.forEach(h),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(e,a){u(e,l,a),A(t,l,null),n=!0},p:U,i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){e&&h(l),P(t)}}}function qe(e){let l,t,a={ctx:e,current:null,token:null,hasCatch:!0,pending:Qe,then:Fe,catch:He,error:33};return g(t=e[2],a),{c(){l=w(),a.block.c()},l(e){l=w(),a.block.l(e)},m(e,t){u(e,l,t),a.block.m(e,a.anchor=t),a.mount=(()=>l.parentNode),a.anchor=l},p(l,s){if(e=l,a.ctx=e,4&s[0]&&t!==(t=e[2])&&g(t,a));else{const l=e.slice();l[33]=a.resolved,a.block.p(l,s)}},i:U,o:U,d(e){e&&h(l),a.block.d(e),a.token=null,a=null}}}function Re(e){let l,t,s,o,n,r=[],d=new Map,m=e[7];const p=e=>e[32]+1;for(let l=0;l<m.length;l+=1){let t=Se(e,m,l),a=p(t);d.set(a,r[l]=We(a,t))}return{c(){l=a("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){l=c(e,"DIV",{class:!0});var t=i(l);for(let e=0;e<r.length;e+=1)r[e].l(t);t.forEach(h),this.h()},h(){f(l,"class","list is-hoverable")},m(a,c){u(a,l,c);for(let e=0;e<r.length;e+=1)r[e].m(l,null);s=!0,o||(n=[de(t=ve.call(null,l)),I(l,"click_outside",e[27])],o=!0)},p(e,t){if(516544&t[0]){const a=e[7];D();for(let e=0;e<r.length;e+=1)r[e].r();r=he(r,t,p,1,e,a,d,l,fe,We,null,Se);for(let e=0;e<r.length;e+=1)r[e].a();V()}},i(e){if(!s){for(let e=0;e<m.length;e+=1)b(r[e]);s=!0}},o(e){for(let e=0;e<r.length;e+=1)$(r[e]);s=!1},d(e){e&&h(l);for(let e=0;e<r.length;e+=1)r[e].d();o=!1,j(n)}}}function He(e){let l,t,o=e[33].message+"";return{c(){l=a("p"),t=r(o),this.h()},l(e){l=c(e,"P",{class:!0,style:!0});var a=i(l);t=d(a,o),a.forEach(h),this.h()},h(){f(l,"class","list-item"),me(l,"color","red")},m(e,a){u(e,l,a),s(l,t)},p(e,l){4&l[0]&&o!==(o=e[33].message+"")&&m(t,o)},d(e){e&&h(l)}}}function Fe(e){let l,t,o;return{c(){l=a("a"),t=r("no tracks found"),this.h()},l(e){l=c(e,"A",{class:!0,href:!0});var a=i(l);t=d(a,"no tracks found"),a.forEach(h),this.h()},h(){f(l,"class","list-item"),f(l,"href",o=null)},m(e,a){u(e,l,a),s(l,t)},p:U,d(e){e&&h(l)}}}function Qe(e){let l,t;return{c(){l=a("p"),t=r("loading ..."),this.h()},l(e){l=c(e,"P",{class:!0});var a=i(l);t=d(a,"loading ..."),a.forEach(h),this.h()},h(){f(l,"class","list-item")},m(e,a){u(e,l,a),s(l,t)},p:U,d(e){e&&h(l)}}}function Ge(e){let l;return{c(){l=r("unknown artist")},l(e){l=d(e,"unknown artist")},m(e,t){u(e,l,t)},p:U,d(e){e&&h(l)}}}function Je(e){let l,t,a,s=e[30].artists.map(Ye).join(", ")+"",o=e[30].name+"";return{c(){l=r(s),t=r(" - "),a=r(o)},l(e){l=d(e,s),t=d(e," - "),a=d(e,o)},m(e,s){u(e,l,s),u(e,t,s),u(e,a,s)},p(e,t){128&t[0]&&s!==(s=e[30].artists.map(Ye).join(", ")+"")&&m(l,s),128&t[0]&&o!==(o=e[30].name+"")&&m(a,o)},d(e){e&&h(l),e&&h(t),e&&h(a)}}}function Ke(e){let l,t;return l=new o({props:{icon:X,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){k(l.$$.fragment)},l(e){y(l.$$.fragment,e)},m(e,a){A(l,e,a),t=!0},p:U,i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){$(l.$$.fragment,e),t=!1},d(e){P(l,e)}}}function Le(e){let l,t;return l=new o({props:{icon:Y,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}}),{c(){k(l.$$.fragment)},l(e){y(l.$$.fragment,e)},m(e,a){A(l,e,a),t=!0},p:U,i(e){t||(b(l.$$.fragment,e),t=!0)},o(e){$(l.$$.fragment,e),t=!1},d(e){P(l,e)}}}function We(e,l){let t,n,m,x,g,w,T,S,O,z,N,B,C,M,q,F,Q,G,J,L,X,Y,Z,_,ee,le,te,ae,se,oe,ne,de,he,fe,me,ve,xe,ge,be=U;function $e(e,l){return e[30].artists?Je:Ge}let we=$e(l),ke=we(l);const ye=[Le,Ke],Ee=[];function Ae(e,l){return e[6]==e[32]?0:1}function Ie(...e){return l[24](l[32],...e)}function De(...e){return l[26](l[32],...e)}return S=Ae(l),O=Ee[S]=ye[S](l),M=new o({props:{icon:K,class:"icon is-small"}}),J=new o({props:{icon:ue,class:"icon is-small"}}),_=new o({props:{icon:W,class:"icon is-small"}}),se=new o({props:{icon:R,class:"icon is-small"}}),{key:e,first:null,c(){t=a("a"),n=a("div"),m=a("div"),ke.c(),x=p(),g=a("div"),w=a("div"),T=a("div"),O.c(),z=p(),N=a("div"),B=a("div"),C=a("a"),k(M.$$.fragment),q=r(" \n                      Play now"),Q=p(),G=a("a"),k(J.$$.fragment),L=r(" \n                      Play next"),Y=p(),Z=a("a"),k(_.$$.fragment),ee=r(" \n                      Add to queue"),te=p(),ae=a("a"),k(se.$$.fragment),oe=r(" \n                      Add to a playlist"),de=p(),this.h()},l(e){t=c(e,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=i(t);n=c(l,"DIV",{class:!0});var a=i(n);m=c(a,"DIV",{class:!0});var s=i(m);ke.l(s),s.forEach(h),x=v(a),g=c(a,"DIV",{class:!0});var o=i(g);w=c(o,"DIV",{class:!0});var r=i(w);T=c(r,"DIV",{class:!0});var f=i(T);O.l(f),f.forEach(h),z=v(r),N=c(r,"DIV",{class:!0,id:!0,role:!0});var u=i(N);B=c(u,"DIV",{class:!0});var p=i(B);C=c(p,"A",{href:!0,class:!0});var b=i(C);y(M.$$.fragment,b),q=d(b," \n                      Play now"),b.forEach(h),Q=v(p),G=c(p,"A",{href:!0,class:!0});var $=i(G);y(J.$$.fragment,$),L=d($," \n                      Play next"),$.forEach(h),Y=v(p),Z=c(p,"A",{href:!0,class:!0});var k=i(Z);y(_.$$.fragment,k),ee=d(k," \n                      Add to queue"),k.forEach(h),te=v(p),ae=c(p,"A",{href:!0,class:!0});var E=i(ae);y(se.$$.fragment,E),oe=d(E," \n                      Add to a playlist"),E.forEach(h),p.forEach(h),u.forEach(h),r.forEach(h),o.forEach(h),a.forEach(h),de=v(l),l.forEach(h),this.h()},h(){f(m,"class","column"),f(T,"class","dropdown-trigger"),f(C,"href",F=null),f(C,"class","dropdown-item"),f(G,"href",X=null),f(G,"class","dropdown-item"),f(Z,"href",le=null),f(Z,"class","dropdown-item"),f(ae,"href",ne=null),f(ae,"class","dropdown-item"),f(B,"class","dropdown-content"),f(N,"class","dropdown-menu"),f(N,"id","dropdown-menu"),f(N,"role","menu"),f(w,"class","dropdown is-right is-up"),E(w,"is-active",l[6]==l[32]),f(g,"class","column is-narrow"),f(n,"class","columns is-mobile"),f(t,"class","list-item"),f(t,"href",he=null),f(t,"draggable",fe=!0),f(t,"ondragover","return false"),E(t,"is-active",l[8]===l[32]),this.first=t},m(e,a){u(e,t,a),s(t,n),s(n,m),ke.m(m,null),s(n,x),s(n,g),s(g,w),s(w,T),Ee[S].m(T,null),s(w,z),s(w,N),s(N,B),s(B,C),A(M,C,null),s(C,q),s(B,Q),s(B,G),A(J,G,null),s(G,L),s(B,Y),s(B,Z),A(_,Z,null),s(Z,ee),s(B,te),s(B,ae),A(se,ae,null),s(ae,oe),s(t,de),ve=!0,xe||(ge=[I(C,"click",function(){H(l[16](l[30].uri))&&l[16](l[30].uri).apply(this,arguments)}),I(G,"click",function(){H(l[17](l[30].uri))&&l[17](l[30].uri).apply(this,arguments)}),I(Z,"click",function(){H(l[18](l[30].uri))&&l[18](l[30].uri).apply(this,arguments)}),I(ae,"click",function(){H(l[13](l[30]))&&l[13](l[30]).apply(this,arguments)}),I(n,"click",function(){H(l[14](l[32]))&&l[14](l[32]).apply(this,arguments)}),I(t,"dragstart",Ie),I(t,"drop",re(l[25])),I(t,"dragenter",De)],xe=!0)},p(e,a){we===(we=$e(l=e))&&ke?ke.p(l,a):(ke.d(1),(ke=we(l))&&(ke.c(),ke.m(m,null)));let s=S;(S=Ae(l))===s?Ee[S].p(l,a):(D(),$(Ee[s],1,1,()=>{Ee[s]=null}),V(),(O=Ee[S])||(O=Ee[S]=ye[S](l)).c(),b(O,1),O.m(T,null)),192&a[0]&&E(w,"is-active",l[6]==l[32]),384&a[0]&&E(t,"is-active",l[8]===l[32])},r(){me=t.getBoundingClientRect()},f(){ce(t),be()},a(){be(),be=ie(t,me,pe,{duration:300})},i(e){ve||(b(O),b(M.$$.fragment,e),b(J.$$.fragment,e),b(_.$$.fragment,e),b(se.$$.fragment,e),ve=!0)},o(e){$(O),$(M.$$.fragment,e),$(J.$$.fragment,e),$(_.$$.fragment,e),$(se.$$.fragment,e),ve=!1},d(e){e&&h(t),ke.d(),Ee[S].d(),P(M),P(J),P(_),P(se),xe=!1,j(ge)}}}function Xe(e){let l,t,n,m,x,g,E,S,O,z,N,B,C,M,U,q,R,H,F,K,L,W,X,Y,Z,_,ee=e[1],le=[];for(let l=0;l<ee.length;l+=1)le[l]=Be(Oe(e,ee,l));const te=e=>$(le[e],1,1,()=>{le[e]=null});q=new o({props:{icon:Q,class:"icon"}});let ae=e[7].length>0&&Ce(e);F=new je({props:{showAddToPlaylistModal:e[3],track:e[5]}});const se=[Re,qe],oe=[];function ne(e,l){return e[7].length>0?0:e[2]?1:-1}return~(L=ne(e))&&(W=oe[L]=se[L](e)),{c(){l=p(),t=a("h1"),n=r("Search"),m=p(),x=a("div"),g=a("div"),E=a("input"),S=p(),O=a("div"),z=a("div"),N=a("div"),B=a("div");for(let e=0;e<le.length;e+=1)le[e].c();C=p(),M=a("div"),U=a("button"),k(q.$$.fragment),R=p(),ae&&ae.c(),H=p(),k(F.$$.fragment),K=p(),W&&W.c(),X=w(),this.h()},l(e){G('[data-svelte="svelte-3s7lyl"]',document.head).forEach(h),l=v(e),t=c(e,"H1",{class:!0});var a=i(t);n=d(a,"Search"),a.forEach(h),m=v(e),x=c(e,"DIV",{class:!0});var s=i(x);g=c(s,"DIV",{class:!0});var o=i(g);E=c(o,"INPUT",{class:!0,type:!0,placeholder:!0}),o.forEach(h),S=v(s),O=c(s,"DIV",{class:!0});var r=i(O);z=c(r,"DIV",{class:!0});var f=i(z);N=c(f,"DIV",{class:!0});var u=i(N);B=c(u,"DIV",{class:!0});var p=i(B);for(let e=0;e<le.length;e+=1)le[e].l(p);p.forEach(h),u.forEach(h),C=v(f),M=c(f,"DIV",{class:!0});var b=i(M);U=c(b,"BUTTON",{class:!0});var $=i(U);y(q.$$.fragment,$),$.forEach(h),b.forEach(h),R=v(f),ae&&ae.l(f),f.forEach(h),r.forEach(h),s.forEach(h),H=v(e),y(F.$$.fragment,e),K=v(e),W&&W.l(e),X=w(),this.h()},h(){document.title="Search",f(t,"class","title"),f(E,"class","input is-rounded svelte-1ixbxod"),f(E,"type","text"),f(E,"placeholder","Search for music"),f(g,"class","column"),f(B,"class","tags svelte-1ixbxod"),f(N,"class","column"),f(U,"class","button"),f(M,"class","column is-narrow"),f(z,"class","columns is-mobile"),f(O,"class","column is-narrow"),f(x,"class","columns")},m(a,o){u(a,l,o),u(a,t,o),s(t,n),u(a,m,o),u(a,x,o),s(x,g),s(g,E),J(E,e[9]),s(x,S),s(x,O),s(O,z),s(z,N),s(N,B);for(let e=0;e<le.length;e+=1)le[e].m(B,null);s(z,C),s(z,M),s(M,U),A(q,U,null),s(z,R),ae&&ae.m(z,null),u(a,H,o),A(F,a,o),u(a,K,o),~L&&oe[L].m(a,o),u(a,X,o),Y=!0,Z||(_=[I(E,"keydown",e[12]),I(E,"input",e[21]),I(U,"click",e[11])],Z=!0)},p(e,l){if(512&l[0]&&E.value!==e[9]&&J(E,e[9]),1027&l[0]){let t;for(ee=e[1],t=0;t<ee.length;t+=1){const a=Oe(e,ee,t);le[t]?(le[t].p(a,l),b(le[t],1)):(le[t]=Be(a),le[t].c(),b(le[t],1),le[t].m(B,null))}for(D(),t=ee.length;t<le.length;t+=1)te(t);V()}e[7].length>0?ae?(ae.p(e,l),128&l[0]&&b(ae,1)):((ae=Ce(e)).c(),b(ae,1),ae.m(z,null)):ae&&(D(),$(ae,1,1,()=>{ae=null}),V());const t={};8&l[0]&&(t.showAddToPlaylistModal=e[3]),32&l[0]&&(t.track=e[5]),F.$set(t);let a=L;(L=ne(e))===a?~L&&oe[L].p(e,l):(W&&(D(),$(oe[a],1,1,()=>{oe[a]=null}),V()),~L?((W=oe[L])||(W=oe[L]=se[L](e)).c(),b(W,1),W.m(X.parentNode,X)):W=null)},i(e){if(!Y){for(let e=0;e<ee.length;e+=1)b(le[e]);b(q.$$.fragment,e),b(ae),b(F.$$.fragment,e),b(W),Y=!0}},o(e){le=le.filter(Boolean);for(let e=0;e<le.length;e+=1)$(le[e]);$(q.$$.fragment,e),$(ae),$(F.$$.fragment,e),$(W),Y=!1},d(e){e&&h(l),e&&h(t),e&&h(m),e&&h(x),T(le,e),P(q),ae&&ae.d(),e&&h(H),P(F,e),e&&h(K),~L&&oe[L].d(e),e&&h(X),Z=!1,j(_)}}}const Ye=e=>e.name;function Ze(e,l,t){let a;S(e,O,e=>t(28,a=e));let s,o,n,r={},c=["http","https","mms","rtmp","rtmps","rtsp","podcast+file","podcast+http","podcast+https"],i={local:Z,podcast:_,subidy:ee,tunein:le},d=[],h=!1,f=!1,u=[],m=!1,p="";N(async()=>{B(O,a=await C(),a);const e=await a.getUriSchemes();e&&(t(1,d=e.filter(e=>-1===c.indexOf(e))),d.forEach(e=>t(0,r[e]=!0,r)))});const v=async()=>{t(7,u=[]);const e=Object.entries(r).filter(e=>e[1]).map(e=>`${e[0]}:`),l=await a.library.search({query:{any:[p]},uris:[`${e}`]});if(l&&l.length>0){let{tracks:e}=l.pop();return e&&t(7,u=e),!0}};function x(e){e.dataTransfer.dropEffect="move",t(8,m=null)}return[r,d,s,h,f,o,n,u,m,p,i,v,function(e){13===e.which&&t(2,s=v())},e=>{t(5,o=e),t(3,h=!h)},e=>{t(6,n=n===e?null:e)},x,e=>{t(6,n=null),t(4,f=!1),te(e)},e=>{t(6,n=null),ae(e)},e=>{t(6,n=null),se(e)},e=>{t(4,f=!1),oe(e)},e=>{t(4,f=!1),se(e)},function(){p=this.value,t(9,p)},e=>t(0,r[e]=!r[e],r),()=>t(4,f=!f),(e,l)=>(function(e,l){e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move";const t=l;e.dataTransfer.setData("text/plain",t)})(l,e),e=>x(e),e=>t(8,m=e),()=>t(6,n=null)]}export default class extends e{constructor(e){var o;super(),document.getElementById("svelte-1ixbxod-style")||((o=a("style")).id="svelte-1ixbxod-style",o.textContent=".input.svelte-1ixbxod.svelte-1ixbxod{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:1rem;height:2.5em;justify-content:flex-start;line-height:1.5;padding-bottom:calc(0.5em - 1px);padding-left:calc(0.75em - 1px);padding-right:calc(0.75em - 1px);padding-top:calc(0.5em - 1px);position:relative;vertical-align:top}.input.is-rounded.svelte-1ixbxod.svelte-1ixbxod{border-radius:290486px;padding-left:calc(calc(0.75em - 1px) + 0.375em);padding-right:calc(calc(0.75em - 1px) + 0.375em)}.input.svelte-1ixbxod.svelte-1ixbxod{background-color:white;border-color:#dbdbdb;border-radius:4px;color:#363636}.input.svelte-1ixbxod.svelte-1ixbxod::-moz-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod::-webkit-input-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:-moz-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:-ms-input-placeholder{color:rgba(54, 54, 54, 0.3)}.input.svelte-1ixbxod.svelte-1ixbxod:hover{border-color:#b5b5b5}.input.svelte-1ixbxod.svelte-1ixbxod:focus{border-color:#3273dc;box-shadow:0 0 0 0.125em rgba(50, 115, 220, 0.25)}.input.svelte-1ixbxod.svelte-1ixbxod{box-shadow:inset 0 0.0625em 0.125em rgba(10, 10, 10, 0.05);max-width:100%;width:100%}.tags.svelte-1ixbxod.svelte-1ixbxod{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.svelte-1ixbxod .tag.svelte-1ixbxod{margin-bottom:0.5rem}.tags.svelte-1ixbxod .tag.svelte-1ixbxod:not(:last-child){margin-right:0.5rem}.tags.svelte-1ixbxod.svelte-1ixbxod:last-child{margin-bottom:-0.5rem}.tags.svelte-1ixbxod.svelte-1ixbxod:not(:last-child){margin-bottom:1rem}.tag.svelte-1ixbxod.svelte-1ixbxod:not(body){align-items:center;background-color:whitesmoke;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:0.75rem;height:2em;justify-content:center;line-height:1.5;padding-left:0.75em;padding-right:0.75em;white-space:nowrap}.tag:not(body).is-primary.svelte-1ixbxod.svelte-1ixbxod{background-color:#DA9C20;color:#fff}",s(document.head,o)),l(this,e,Ze,Xe,t,{},[-1,-1])}}
