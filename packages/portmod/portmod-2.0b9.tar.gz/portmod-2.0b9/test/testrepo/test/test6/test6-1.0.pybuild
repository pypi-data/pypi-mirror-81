import os
from pybuild import Pybuild1, InstallDir
from pybuild.modinfo import M


class Mod(Pybuild1):
    NAME = "Test"
    KEYWORDS = "test"
    LICENSE = "test"
    DESC = "test desc"
    HOMEPAGE = "test homepage"
    RDEPEND = "test/test3[foo]"
    DATA_OVERRIDES = "test/test7[foo]"
    INSTALL_DIRS = [InstallDir(".")]

    def src_prepare(self):
        os.makedirs(M)
        with open(os.path.join(M, "foo.txt"), "w") as file:
            print("foo", file=file)
