{"version":3,"sources":["webpack:///./src/panels/lovelace/entity-rows/hui-lock-entity-row.ts"],"names":["customElement","property","config","Error","this","_config","changedProps","hasConfigOrEntityChanged","hass","html","_templateObject","stateObj","states","entity","_templateObject3","_callService","UNAVAILABLE_STATES","includes","state","localize","_templateObject2","css","_templateObject4","ev","stopPropagation","callService","entity_id","LitElement"],"mappings":"s1SAkBCA,YAAc,6kBAEZC,kEAEAA,gFAED,SAAiBC,GACf,IAAKA,EACH,MAAM,IAAIC,MAAM,uBAElBC,KAAKC,QAAUH,4CAGjB,SAAuBI,GACrB,OAAOC,YAAyBH,KAAME,uCAGxC,WACE,IAAKF,KAAKC,UAAYD,KAAKI,KACzB,OAAOC,YAAPC,KAGF,IAAMC,EAAWP,KAAKI,KAAKI,OAAOR,KAAKC,QAAQQ,QAE/C,OAAKF,EAYEF,YAAPK,IACkCV,KAAKI,KAAgBJ,KAAKC,QAE5CD,KAAKW,aACHC,IAAmBC,SAASN,EAASO,OAG5B,WAAnBP,EAASO,MACPd,KAAKI,KAAMW,SAAS,uBACpBf,KAAKI,KAAMW,SAAS,sBApBrBV,YAAPW,IAEOhB,KAAKI,KAAKW,SACX,6CACA,SACAf,KAAKC,QAAQQ,oDAqBvB,WACE,OAAOQ,YAAPC,+CAOF,SAAqBC,GACnBA,EAAGC,kBACH,IAAMb,EAAWP,KAAKI,KAAMI,OAAOR,KAAKC,QAASQ,QACjDT,KAAKI,KAAMiB,YACT,OACmB,WAAnBd,EAASO,MAAqB,SAAW,OACzC,CAAEQ,UAAWf,EAASe,iBAhEGC","file":"chunk.b2c8841b564fca626fe5.js","sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport { UNAVAILABLE_STATES } from \"../../../data/entity\";\nimport { HomeAssistant } from \"../../../types\";\nimport { hasConfigOrEntityChanged } from \"../common/has-changed\";\nimport \"../components/hui-generic-entity-row\";\nimport \"../components/hui-warning\";\nimport { EntityConfig, LovelaceRow } from \"./types\";\n\n@customElement(\"hui-lock-entity-row\")\nclass HuiLockEntityRow extends LitElement implements LovelaceRow {\n  @property() public hass?: HomeAssistant;\n\n  @property() private _config?: EntityConfig;\n\n  public setConfig(config: EntityConfig): void {\n    if (!config) {\n      throw new Error(\"Configuration error\");\n    }\n    this._config = config;\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    return hasConfigOrEntityChanged(this, changedProps);\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config || !this.hass) {\n      return html``;\n    }\n\n    const stateObj = this.hass.states[this._config.entity];\n\n    if (!stateObj) {\n      return html`\n        <hui-warning\n          >${this.hass.localize(\n            \"ui.panel.lovelace.warning.entity_not_found\",\n            \"entity\",\n            this._config.entity\n          )}</hui-warning\n        >\n      `;\n    }\n\n    return html`\n      <hui-generic-entity-row .hass=${this.hass} .config=${this._config}>\n        <mwc-button\n          @click=\"${this._callService}\"\n          .disabled=${UNAVAILABLE_STATES.includes(stateObj.state)}\n          class=\"text-content\"\n        >\n          ${stateObj.state === \"locked\"\n            ? this.hass!.localize(\"ui.card.lock.unlock\")\n            : this.hass!.localize(\"ui.card.lock.lock\")}\n        </mwc-button>\n      </hui-generic-entity-row>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      mwc-button {\n        margin-right: -0.57em;\n      }\n    `;\n  }\n\n  private _callService(ev): void {\n    ev.stopPropagation();\n    const stateObj = this.hass!.states[this._config!.entity];\n    this.hass!.callService(\n      \"lock\",\n      stateObj.state === \"locked\" ? \"unlock\" : \"lock\",\n      { entity_id: stateObj.entity_id }\n    );\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-lock-entity-row\": HuiLockEntityRow;\n  }\n}\n"],"sourceRoot":""}